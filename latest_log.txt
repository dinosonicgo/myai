### AI Lover Log - Last updated at 2025-09-28T16:36:32.690379 ###

2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] å‰µå»ºåå‘éˆæ¥: æ„›è“®å¨œ -> é€£æ© (Roles: ['å¦»å­'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: è²»å¥‡ -> é€£æ© (New Roles: ['å²³çˆ¶å­', 'å¥³å©¿'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: å¡çˆ¾â€¢ç¶­åˆ©çˆ¾æ–¯å‹³çˆµ -> çµ²æœˆ (New Roles: ['åƒ•äºº', 'å¼•å°è€…', 'ä¸»äºº', 'ä¸ˆå¤«'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: è‰¾è‰è«¾ -> å¸ƒé­¯è«¾ (New Roles: ['è¢«ä½¿ç”¨è€…', 'åœ’ä¸', 'ä½¿ç”¨è€…/è¢«ä½¿ç”¨è€…'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: é¦¬ä¸ -> è€é«˜ (New Roles: ['è¢«å¼•å°è€…', 'æ ½åŸ¹å°è±¡'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: äºç‘Ÿ -> è€é«˜ (New Roles: ['è¢«å¼•å°è€…', 'æ ½åŸ¹å°è±¡'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] å‰µå»ºåå‘éˆæ¥: è‰è‰çµ² -> äºç‘Ÿ (Roles: ['å¼•å°è€…/è¢«å¼•å°è€…'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: è€é«˜ -> äºç‘Ÿ (New Roles: ['å¼•å°è€…/è¢«å¼•å°è€…', 'æ ½åŸ¹å°è±¡'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] å‰µå»ºåå‘éˆæ¥: è‰è‰çµ² -> é¦¬ä¸ (Roles: ['å¼•å°è€…/è¢«å¼•å°è€…'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: è€é«˜ -> é¦¬ä¸ (New Roles: ['å¼•å°è€…/è¢«å¼•å°è€…', 'æ ½åŸ¹å°è±¡'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: å¤§çš‡å­é˜¿æ‹‰é‡Œå…‹ -> åœ‹ç‹åŸƒå¾·è’™ä¸‰ä¸– (New Roles: ['çˆ¶å­', 'å…’å­'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: ä¸‰çš‡å­èµ«å…‹æ‰˜ -> åœ‹ç‹åŸƒå¾·è’™ä¸‰ä¸– (New Roles: ['çˆ¶å­', 'å…’å­'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: äºŒå…¬ä¸»å¡æ‹‰è²å¨œ -> åœ‹ç‹åŸƒå¾·è’™ä¸‰ä¸– (New Roles: ['å¥³å…’', 'çˆ¶å¥³'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: ä¸‰çš‡å¥³ä¼Šç´¢çˆ¾å¾· -> åœ‹ç‹åŸƒå¾·è’™ä¸‰ä¸– (New Roles: ['è¨ˆåŠƒåˆ¶å®šè€…', 'å¥³å…’', 'çˆ¶å¥³'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: åšæ—å‹³çˆµ -> åœ‹ç‹åŸƒå¾·è’™ä¸‰ä¸– (New Roles: ['ä¸‹å±¬', 'ä¸‹å±¬/ä¸Šç´š'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: å¤§ä¸»æ•™å®‰å¸ƒç¾…æ–¯ -> åœ‹ç‹åŸƒå¾·è’™ä¸‰ä¸– (New Roles: ['æ–½å£“è€…/è¢«æ–½å£“è€…', 'æ–½å£“è€…'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] [é—œä¿‚åœ–è­œæ ¡æº–] æ›´æ–°åå‘éˆæ¥: ä¸‰çš‡å¥³ä¼Šç´¢çˆ¾å¾· -> åšæ—å‹³çˆµ (New Roles: ['ç¥ä¹‹ç¦®ç‰©', 'èª˜æƒ‘è€…/è¢«èª˜æƒ‘è€…', 'èª˜æƒ‘è€…'])
2025-09-28 16:11:05 - [INFO] - [512280345618546699] (_resolve_and_save) æ­£åœ¨ç‚º 'npc_profile' é¡åˆ¥è™•ç† 157 å€‹å¯¦é«”...
2025-09-28 16:13:00 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #0.
2025-09-28 16:13:00 - [INFO] - [512280345618546699] [å¯¦é«”è§£æ] æˆåŠŸç”Ÿæˆè§£æè¨ˆç•«ï¼ŒåŒ…å« 157 æ¢æ±ºç­–ã€‚
2025-09-28 16:13:06 - [INFO] - [512280345618546699] (_resolve_and_save) æ­£åœ¨ç‚º 'location_info' é¡åˆ¥è™•ç† 10 å€‹å¯¦é«”...
2025-09-28 16:13:07 - [INFO] - [512280345618546699] (_resolve_and_save) æ­£åœ¨ç‚º 'item_info' é¡åˆ¥è™•ç† 3 å€‹å¯¦é«”...
2025-09-28 16:13:07 - [INFO] - [512280345618546699] (_resolve_and_save) æ­£åœ¨ç‚º 'world_lore' é¡åˆ¥è™•ç† 18 å€‹å¯¦é«”...
2025-09-28 16:13:09 - [INFO] - [512280345618546699] [å‰µä¸– LORE è§£æ] ç®¡ç·šæˆåŠŸå®Œæˆã€‚æ­£åœ¨è§¸ç™¼ RAG å…¨é‡é‡å»º...
2025-09-28 16:13:09 - [INFO] - [512280345618546699] (Retriever Builder) å¼·åˆ¶é‡å»ºè§¸ç™¼ï¼Œæ­£åœ¨å¾è³‡æ–™åº«åŸ·è¡Œå…¨é‡å‰µå§‹æ§‹å»º...
2025-09-28 16:13:09 - [INFO] - [512280345618546699] (Retriever Builder) å·²å¾ SQL å’Œ LORE åŠ è¼‰ 126 æ¢æ–‡æª”ç”¨æ–¼å‰µå§‹æ§‹å»ºã€‚
2025-09-28 16:13:09 - [INFO] - [512280345618546699] (Retriever Builder) å‰µå§‹æ§‹å»ºæˆåŠŸï¼Œä¸¦å·²å°‡ç´¢å¼•æŒä¹…åŒ–åˆ°ç£ç¢Ÿã€‚
2025-09-28 16:13:09 - [INFO] - [512280345618546699] [å‰µä¸– LORE è§£æ] RAG ç´¢å¼•å…¨é‡é‡å»ºå®Œæˆã€‚
2025-09-28 16:13:09 - [INFO] - [512280345618546699] [åå°åˆ›ä¸– 1/4] LORE æ™ºèƒ½è§£æå·²åŒæ­¥å®Œæˆã€‚
2025-09-28 16:13:09 - [INFO] - [512280345618546699] [åå°åˆ›ä¸– 2/4] æ­£åœ¨è¡¥å®Œè§’è‰²æ¡£æ¡ˆ...
2025-09-28 16:13:11 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #2.
2025-09-28 16:13:12 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #1.
2025-09-28 16:13:12 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['user_profile', 'ai_profile']
2025-09-28 16:13:12 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-28 16:13:12 - [INFO] - [512280345618546699] [åå°åˆ›ä¸– 3/4] æ­£åœ¨ç”Ÿæˆä¸–ç•Œåˆ›ä¸–èµ„è®¯...
2025-09-28 16:13:12 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #3) é­é‡å…§å®¹å¯©æŸ¥æˆ–å®‰å…¨éŒ¯èª¤: BlockedPromptExceptionã€‚
2025-09-28 16:13:12 - [WARNING] - [512280345618546699] æœ€çµ‚ç”Ÿæˆéˆé­é‡å¯©æŸ¥ã€‚å•Ÿå‹•ã€æœ€é«˜æŒ‡ä»¤é›†æ³¨å…¥é‡è©¦ã€‘ç­–ç•¥...
2025-09-28 16:13:12 - [INFO] - [512280345618546699] å·²å° Prompt é™„åŠ å®Œæ•´çš„æ ¸å¿ƒæŒ‡ä»¤é›†ï¼Œæ­£åœ¨é€²è¡Œå¼·åŒ–é‡è©¦...
2025-09-28 16:13:49 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #4.
2025-09-28 16:13:49 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['game_state']
2025-09-28 16:13:50 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-28 16:13:50 - [INFO] - [512280345618546699] [/start] åˆå§‹åœ°é» 'åŸƒå¾·è’™ç‹åœ‹ > ç‹éƒ½ > å’†å“®å£çˆé…’é¤¨' å·²æˆåŠŸç”Ÿæˆä¸¦å­˜å…¥LOREã€‚
2025-09-28 16:13:50 - [INFO] - [512280345618546699] [åå°åˆ›ä¸– 4/4] æ­£åœ¨ç”Ÿæˆå¼€åœºç™½...
2025-09-28 16:14:31 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #5.
2025-09-28 16:14:31 - [INFO] - [512280345618546699] [åå°åˆ›ä¸– 4/4] å¼€åœºç™½ç”Ÿæˆå®Œæ¯•ã€‚
2025-09-28 16:14:31 - [INFO] - [512280345618546699] [åå°åˆ›ä¸–] æ­£åœ¨å‘ä½¿ç”¨è€…ç§è®¯å‘é€æœ€ç»ˆå¼€åœºç™½...
2025-09-28 16:14:31 - [INFO] - [512280345618546699] [åå°åˆ›ä¸–] å¼€åœºç™½å‘é€å®Œæ¯•ã€‚
2025-09-28 16:14:31 - [INFO] - [512280345618546699] åå°åˆ›ä¸–æµç¨‹ç»“æŸï¼ŒçŠ¶æ€é”å·²é‡Šæ”¾ã€‚
2025-09-28 16:25:46 - [INFO] - [512280345618546699] å•Ÿå‹•ã€Œç´”ç²¹ç”Ÿæˆã€å°è©±æµç¨‹...
2025-09-28 16:25:46 - [INFO] - [512280345618546699] [ç´”ç²¹ç”Ÿæˆæµç¨‹] æ­£åœ¨æº–å‚™ä¸Šä¸‹æ–‡...
2025-09-28 16:25:46 - [INFO] - [512280345618546699] [æŒ‡ä»¤å¯¦é«”æå–] é€šé LORE å­—å…¸æ‰¾åˆ°å¯¦é«”: {'ç±³å©­'}
2025-09-28 16:25:47 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-09-28 16:25:47 - [INFO] - [512280345618546699] [ä¸Šä¸‹æ–‡ç¯©é¸ in 'local' mode] æ ¸å¿ƒç›®æ¨™: ['ç±³å©­'], èƒŒæ™¯è§’è‰²: []
2025-09-28 16:25:47 - [INFO] - [512280345618546699] [RAGæŸ¥è©¢å¼·åŒ–] æŸ¥è©¢å·²æ“´å±•ç‚º: 'æè¿°ç±³å©­åœ¨å®…é‚¸æ•£æ­¥é‡åˆ°ç¶­åˆ©çˆ¾æ–¯å‹›çˆµ Mia è’™æ©è€… æ´»ç¥è¹Ÿ ç±³å©­ æ¯ç•œ è–å¥³'
2025-09-28 16:25:47 - [INFO] - [512280345618546699] [RAGäº‹å¯¦æå–-1] å˜—è©¦ä½¿ç”¨é›²ç«¯æ¨¡å‹è™•ç†åŸå§‹æ–‡æœ¬...
2025-09-28 16:25:47 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #1) é­é‡å…§å®¹å¯©æŸ¥æˆ–å®‰å…¨éŒ¯èª¤: BlockedPromptExceptionã€‚
2025-09-28 16:25:47 - [WARNING] - [512280345618546699] [RAGäº‹å¯¦æå–-1] é›²ç«¯æ¨¡å‹å¯©æŸ¥äº†åŸå§‹æ–‡æœ¬ã€‚é™ç´šåˆ°å±¤ç´š 2 (é›²ç«¯+ä»£ç¢¼åŒ–)...
2025-09-28 16:25:48 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #2) é­é‡å…§å®¹å¯©æŸ¥æˆ–å®‰å…¨éŒ¯èª¤: BlockedPromptExceptionã€‚
2025-09-28 16:25:48 - [ERROR] - [512280345618546699] [RAGäº‹å¯¦æå–-2] ğŸ”¥ ä»£ç¢¼åŒ–å‚™æ´å¤±æ•—: Prompt blocked due to PROHIBITED_CONTENT
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 4961, in retrieve_and_summarize_memories
    fact_sheet = await self.ainvoke_with_rotation(full_prompt, output_schema=RagFactSheet, retry_strategy='none')
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 791, in ainvoke_with_rotation
    raise e
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 762, in ainvoke_with_rotation
    raise BlockedPromptException(f"Prompt blocked due to {response.prompt_feedback.block_reason.name}")
google.generativeai.types.generation_types.BlockedPromptException: Prompt blocked due to PROHIBITED_CONTENT

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 4969, in retrieve_and_summarize_memories
    fact_sheet = await self.ainvoke_with_rotation(full_prompt, output_schema=RagFactSheet, retry_strategy='none')
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 791, in ainvoke_with_rotation
    raise e
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 762, in ainvoke_with_rotation
    raise BlockedPromptException(f"Prompt blocked due to {response.prompt_feedback.block_reason.name}")
google.generativeai.types.generation_types.BlockedPromptException: Prompt blocked due to PROHIBITED_CONTENT
2025-09-28 16:25:48 - [WARNING] - [512280345618546699] [RAGäº‹å¯¦æå–] æ‰€æœ‰é›²ç«¯ç­–ç•¥å‡å¤±æ•—ã€‚é™ç´šåˆ°å±¤ç´š 3 (æœ¬åœ°æ¨¡å‹)...
2025-09-28 16:25:48 - [WARNING] - [512280345618546699] Key #3 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 1.42 ç§’å¾Œé€²è¡Œç¬¬ 2 æ¬¡å˜—è©¦...
2025-09-28 16:25:50 - [WARNING] - [512280345618546699] Key #3 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 2.15 ç§’å¾Œé€²è¡Œç¬¬ 3 æ¬¡å˜—è©¦...
2025-09-28 16:25:52 - [ERROR] - [512280345618546699] Key #3 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) åœ¨ 3 æ¬¡å…§éƒ¨é‡è©¦å¾Œä»ç„¶å¤±æ•— (InvalidArgument)ã€‚å°‡è¼ªæ›åˆ°ä¸‹ä¸€å€‹é‡‘é‘°ä¸¦è§¸ç™¼æŒä¹…åŒ–å†·å»ã€‚
2025-09-28 16:25:52 - [WARNING] - [512280345618546699] Key #4 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 1.24 ç§’å¾Œé€²è¡Œç¬¬ 2 æ¬¡å˜—è©¦...
2025-09-28 16:25:53 - [WARNING] - [512280345618546699] Key #4 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 2.44 ç§’å¾Œé€²è¡Œç¬¬ 3 æ¬¡å˜—è©¦...
2025-09-28 16:25:56 - [ERROR] - [512280345618546699] Key #4 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) åœ¨ 3 æ¬¡å…§éƒ¨é‡è©¦å¾Œä»ç„¶å¤±æ•— (InvalidArgument)ã€‚å°‡è¼ªæ›åˆ°ä¸‹ä¸€å€‹é‡‘é‘°ä¸¦è§¸ç™¼æŒä¹…åŒ–å†·å»ã€‚
2025-09-28 16:25:56 - [WARNING] - [512280345618546699] Key #5 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 1.14 ç§’å¾Œé€²è¡Œç¬¬ 2 æ¬¡å˜—è©¦...
2025-09-28 16:25:58 - [WARNING] - [512280345618546699] Key #5 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 2.46 ç§’å¾Œé€²è¡Œç¬¬ 3 æ¬¡å˜—è©¦...
2025-09-28 16:26:00 - [ERROR] - [512280345618546699] Key #5 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) åœ¨ 3 æ¬¡å…§éƒ¨é‡è©¦å¾Œä»ç„¶å¤±æ•— (InvalidArgument)ã€‚å°‡è¼ªæ›åˆ°ä¸‹ä¸€å€‹é‡‘é‘°ä¸¦è§¸ç™¼æŒä¹…åŒ–å†·å»ã€‚
2025-09-28 16:26:00 - [WARNING] - [512280345618546699] Key #0 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 1.30 ç§’å¾Œé€²è¡Œç¬¬ 2 æ¬¡å˜—è©¦...
2025-09-28 16:26:03 - [WARNING] - [512280345618546699] Key #0 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 2.23 ç§’å¾Œé€²è¡Œç¬¬ 3 æ¬¡å˜—è©¦...
2025-09-28 16:26:05 - [ERROR] - [512280345618546699] Key #0 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) åœ¨ 3 æ¬¡å…§éƒ¨é‡è©¦å¾Œä»ç„¶å¤±æ•— (InvalidArgument)ã€‚å°‡è¼ªæ›åˆ°ä¸‹ä¸€å€‹é‡‘é‘°ä¸¦è§¸ç™¼æŒä¹…åŒ–å†·å»ã€‚
2025-09-28 16:26:05 - [WARNING] - [512280345618546699] Key #1 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 1.17 ç§’å¾Œé€²è¡Œç¬¬ 2 æ¬¡å˜—è©¦...
2025-09-28 16:26:06 - [WARNING] - [512280345618546699] Key #1 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 2.36 ç§’å¾Œé€²è¡Œç¬¬ 3 æ¬¡å˜—è©¦...
2025-09-28 16:26:09 - [ERROR] - [512280345618546699] Key #1 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) åœ¨ 3 æ¬¡å…§éƒ¨é‡è©¦å¾Œä»ç„¶å¤±æ•— (InvalidArgument)ã€‚å°‡è¼ªæ›åˆ°ä¸‹ä¸€å€‹é‡‘é‘°ä¸¦è§¸ç™¼æŒä¹…åŒ–å†·å»ã€‚
2025-09-28 16:26:09 - [WARNING] - [512280345618546699] Key #2 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 1.29 ç§’å¾Œé€²è¡Œç¬¬ 2 æ¬¡å˜—è©¦...
2025-09-28 16:26:11 - [WARNING] - [512280345618546699] Key #2 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) é­é‡è‡¨æ™‚æ€§ API éŒ¯èª¤ (InvalidArgument)ã€‚å°‡åœ¨ 2.46 ç§’å¾Œé€²è¡Œç¬¬ 3 æ¬¡å˜—è©¦...
2025-09-28 16:26:13 - [ERROR] - [512280345618546699] Key #2 (æ¨¡å‹: HammerAI/llama-3-lexi-uncensored:latest) åœ¨ 3 æ¬¡å…§éƒ¨é‡è©¦å¾Œä»ç„¶å¤±æ•— (InvalidArgument)ã€‚å°‡è¼ªæ›åˆ°ä¸‹ä¸€å€‹é‡‘é‘°ä¸¦è§¸ç™¼æŒä¹…åŒ–å†·å»ã€‚
2025-09-28 16:26:13 - [ERROR] - [512280345618546699] [Final Failure] æ‰€æœ‰æ¨¡å‹å’Œé‡‘é‘°å‡æœ€çµ‚å¤±æ•—ã€‚æœ€å¾Œçš„éŒ¯èª¤æ˜¯: 400 * GenerateContentRequest.model: unexpected model name format

2025-09-28 16:26:13 - [ERROR] - è™•ç†ä½¿ç”¨è€… 512280345618546699 çš„ã€Œç´”ç²¹ç”Ÿæˆã€æµç¨‹æ™‚ç™¼ç”Ÿç•°å¸¸: 400 * GenerateContentRequest.model: unexpected model name format
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\discord_bot.py", line 1507, in on_message
    final_response = await ai_instance.preprocess_and_generate(input_data)
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 2868, in preprocess_and_generate
    structured_rag_context = await self.retrieve_and_summarize_memories(user_input, relevant_characters, relevant_characters)
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 4981, in retrieve_and_summarize_memories
    fact_sheet = await self.ainvoke_with_rotation(local_prompt, output_schema=RagFactSheet, models_to_try_override=[self.ollama_model_name])
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 836, in ainvoke_with_rotation
    raise last_exception if last_exception else Exception("ainvoke_with_rotation failed without a specific exception.")
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 753, in ainvoke_with_rotation
    response = await asyncio.wait_for(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\asyncio\tasks.py", line 445, in wait_for
    return fut.result()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 385, in generate_content_async
    response = await self._async_client.generate_content(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\async_client.py", line 440, in generate_content
    response = await rpc(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary_async.py", line 231, in retry_wrapped_func
    return await retry_target(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary_async.py", line 163, in retry_target
    next_sleep = _retry_error_helper(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary_async.py", line 158, in retry_target
    return await target()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers_async.py", line 88, in __await__
    raise exceptions.from_grpc_error(rpc_error) from rpc_error
google.api_core.exceptions.InvalidArgument: 400 * GenerateContentRequest.model: unexpected model name format

2025-09-28 16:31:15 - [INFO] - æ‰€æœ‰æŒä¹…åŒ– UI è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-09-28 16:31:15 - [INFO] - æ­£åœ¨å˜—è©¦å°‡æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤ (Slash Commands) å…¨åŸŸåŒæ­¥åˆ° Discord...
2025-09-28 16:31:15 - [INFO] - âœ… æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤å…¨åŸŸåŒæ­¥æˆåŠŸï¼(æ³¨æ„ï¼šå…¨åŸŸæŒ‡ä»¤æ›´æ–°å¯èƒ½éœ€è¦é•·é”ä¸€å°æ™‚æ‰èƒ½åœ¨æ‰€æœ‰ä¼ºæœå™¨ç”Ÿæ•ˆ)
2025-09-28 16:31:15 - [INFO] - Discord Bot is ready!
2025-09-28 16:31:18 - [INFO] - ã€å¥åº·æª¢æŸ¥ & Keep-Aliveã€‘èƒŒæ™¯ä»»å‹™å·²å•Ÿå‹•ã€‚
2025-09-28 16:31:18 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-28 16:31:19 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
2025-09-28 16:31:27 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-09-28 16:31:27 - [INFO] - [512280345618546699] æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-28 16:31:27 - [INFO] - [512280345618546699] æ ¸å¿ƒå”è­° '00_supreme_directive.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-28 16:31:27 - [INFO] - [512280345618546699] [RAGæŒä¹…åŒ–] æˆåŠŸå¾ç£ç¢ŸåŠ è¼‰äº† 126 æ¢æ–‡æª”åˆ° RAG èªæ–™åº«ã€‚
2025-09-28 16:31:27 - [INFO] - [512280345618546699] (Retriever Builder) å·²æˆåŠŸå¾æŒä¹…åŒ–æª”æ¡ˆæ§‹å»º RAG æª¢ç´¢å™¨ã€‚
2025-09-28 16:31:27 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ã€‚
2025-09-28 16:31:27 - [INFO] - ç‚ºä½¿ç”¨è€… 512280345618546699 æˆåŠŸå‰µå»ºä¸¦åˆå§‹åŒ– AI å¯¦ä¾‹ã€‚
2025-09-28 16:31:27 - [INFO] - [512280345618546699] æ­£åœ¨å¾è³‡æ–™åº«æ¢å¾©çŸ­æœŸå ´æ™¯è¨˜æ†¶...
2025-09-28 16:31:27 - [INFO] - [512280345618546699] æˆåŠŸæ¢å¾©äº† 1 å€‹å ´æ™¯çš„å°è©±æ­·å²ï¼Œç¸½è¨ˆ 1 æ¢è¨Šæ¯ã€‚
2025-09-28 16:31:27 - [INFO] - [512280345618546699] å•Ÿå‹•ã€Œç´”ç²¹ç”Ÿæˆã€å°è©±æµç¨‹...
2025-09-28 16:31:27 - [INFO] - [512280345618546699] [ç´”ç²¹ç”Ÿæˆæµç¨‹] æ­£åœ¨æº–å‚™ä¸Šä¸‹æ–‡...
2025-09-28 16:31:27 - [INFO] - [512280345618546699] [æŒ‡ä»¤å¯¦é«”æå–] é€šé LORE å­—å…¸æ‰¾åˆ°å¯¦é«”: {'ç±³å©­'}
2025-09-28 16:31:29 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-09-28 16:31:29 - [INFO] - [512280345618546699] [ä¸Šä¸‹æ–‡ç¯©é¸ in 'local' mode] æ ¸å¿ƒç›®æ¨™: ['ç±³å©­'], èƒŒæ™¯è§’è‰²: []
2025-09-28 16:31:29 - [INFO] - [512280345618546699] [RAGæŸ¥è©¢å¼·åŒ–] æŸ¥è©¢å·²æ“´å±•ç‚º: 'æè¿°ç±³å©­åœ¨å®…é‚¸æ•£æ­¥é‡åˆ°ç¶­åˆ©çˆ¾æ–¯å‹›çˆµ Mia è’™æ©è€… æ´»ç¥è¹Ÿ è–å¥³ æ¯ç•œ ç±³å©­'
2025-09-28 16:31:29 - [INFO] - [512280345618546699] [RAGäº‹å¯¦æå–-1] å˜—è©¦ä½¿ç”¨é›²ç«¯æ¨¡å‹è™•ç†åŸå§‹æ–‡æœ¬...
2025-09-28 16:31:29 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #1) é­é‡å…§å®¹å¯©æŸ¥æˆ–å®‰å…¨éŒ¯èª¤: BlockedPromptExceptionã€‚
2025-09-28 16:31:29 - [WARNING] - [512280345618546699] [RAGäº‹å¯¦æå–-1] é›²ç«¯æ¨¡å‹å¯©æŸ¥äº†åŸå§‹æ–‡æœ¬ã€‚é™ç´šåˆ°å±¤ç´š 2 (é›²ç«¯+ä»£ç¢¼åŒ–)...
2025-09-28 16:31:30 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #2) é­é‡å…§å®¹å¯©æŸ¥æˆ–å®‰å…¨éŒ¯èª¤: BlockedPromptExceptionã€‚
2025-09-28 16:31:30 - [ERROR] - [512280345618546699] [RAGäº‹å¯¦æå–-2] ğŸ”¥ ä»£ç¢¼åŒ–å‚™æ´å¤±æ•—: Prompt blocked due to PROHIBITED_CONTENT
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 4973, in retrieve_and_summarize_memories
    fact_sheet = await self.ainvoke_with_rotation(full_prompt, output_schema=RagFactSheet, retry_strategy='none')
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 791, in ainvoke_with_rotation
    raise e
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 762, in ainvoke_with_rotation
    raise BlockedPromptException(f"Prompt blocked due to {response.prompt_feedback.block_reason.name}")
google.generativeai.types.generation_types.BlockedPromptException: Prompt blocked due to PROHIBITED_CONTENT

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 4981, in retrieve_and_summarize_memories
    fact_sheet = await self.ainvoke_with_rotation(full_prompt, output_schema=RagFactSheet, retry_strategy='none')
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 791, in ainvoke_with_rotation
    raise e
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 762, in ainvoke_with_rotation
    raise BlockedPromptException(f"Prompt blocked due to {response.prompt_feedback.block_reason.name}")
google.generativeai.types.generation_types.BlockedPromptException: Prompt blocked due to PROHIBITED_CONTENT
2025-09-28 16:31:30 - [WARNING] - [512280345618546699] [RAGäº‹å¯¦æå–] æ‰€æœ‰é›²ç«¯ç­–ç•¥å‡å¤±æ•—ã€‚é™ç´šåˆ°å±¤ç´š 3 (æœ¬åœ°æ¨¡å‹)...
2025-09-28 16:31:30 - [INFO] - [512280345618546699] [RAGäº‹å¯¦æå–-3] æ­£åœ¨ä½¿ç”¨æœ¬åœ°æ¨¡å‹ 'HammerAI/llama-3-lexi-uncensored:latest' é€²è¡Œäº‹å¯¦æå–...
2025-09-28 16:33:49 - [ERROR] - [512280345618546699] [RAGäº‹å¯¦æå–-3] å‘¼å«æœ¬åœ°æ¨¡å‹é€²è¡Œäº‹å¯¦æå–æ™‚ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤: 12 validation errors for RagFactSheet
involved_characters.0
  Input should be a valid string [type=string_type, input_value={'name': 'ç±³å©­', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.1
  Input should be a valid string [type=string_type, input_value={'name': 'è‰è‰çµ²', 'de...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.2
  Input should be a valid string [type=string_type, input_value={'name': 'çµ²æœˆ', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.3
  Input should be a valid string [type=string_type, input_value={'name': 'å¡èŠå…’', 'de...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.4
  Input should be a valid string [type=string_type, input_value={'name': 'è‰å¨œ', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.5
  Input should be a valid string [type=string_type, input_value={'name': 'å®‰å¨œ', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
key_locations.0
  Input should be a valid string [type=string_type, input_value={'name': 'ç¶­åˆ©çˆ¾æ–¯å®¶...é‚¸', 'description': ''}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
key_locations.1
  Input should be a valid string [type=string_type, input_value={'name': 'è²§æ°‘çªŸ', 'description': ''}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
key_locations.2
  Input should be a valid string [type=string_type, input_value={'name': 'è–éœ²ä¿®é“é™¢', 'description': ''}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
core_events.0
  Input should be a valid string [type=string_type, input_value={'event_name': '', 'descr...è–å¥³èˆ‡æ´»ç¥è¹Ÿã€‚'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
core_events.1
  Input should be a valid string [type=string_type, input_value={'event_name': '', 'descr...æ¾¤çš„å®Œç¾å®¹å™¨ã€‚'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
core_events.2
  Input should be a valid string [type=string_type, input_value={'event_name': '', 'descr...èª•ä¸‹è–å¥³ç±³å©­ã€‚'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 4773, in _invoke_local_ollama_summarizer
    validated_result = RagFactSheet.model_validate(parsed_json)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\pydantic\main.py", line 705, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 12 validation errors for RagFactSheet
involved_characters.0
  Input should be a valid string [type=string_type, input_value={'name': 'ç±³å©­', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.1
  Input should be a valid string [type=string_type, input_value={'name': 'è‰è‰çµ²', 'de...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.2
  Input should be a valid string [type=string_type, input_value={'name': 'çµ²æœˆ', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.3
  Input should be a valid string [type=string_type, input_value={'name': 'å¡èŠå…’', 'de...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.4
  Input should be a valid string [type=string_type, input_value={'name': 'è‰å¨œ', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
involved_characters.5
  Input should be a valid string [type=string_type, input_value={'name': 'å®‰å¨œ', 'descr...æ€§', 'race': 'äººé¡'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
key_locations.0
  Input should be a valid string [type=string_type, input_value={'name': 'ç¶­åˆ©çˆ¾æ–¯å®¶...é‚¸', 'description': ''}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
key_locations.1
  Input should be a valid string [type=string_type, input_value={'name': 'è²§æ°‘çªŸ', 'description': ''}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
key_locations.2
  Input should be a valid string [type=string_type, input_value={'name': 'è–éœ²ä¿®é“é™¢', 'description': ''}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
core_events.0
  Input should be a valid string [type=string_type, input_value={'event_name': '', 'descr...è–å¥³èˆ‡æ´»ç¥è¹Ÿã€‚'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
core_events.1
  Input should be a valid string [type=string_type, input_value={'event_name': '', 'descr...æ¾¤çš„å®Œç¾å®¹å™¨ã€‚'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
core_events.2
  Input should be a valid string [type=string_type, input_value={'event_name': '', 'descr...èª•ä¸‹è–å¥³ç±³å©­ã€‚'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-09-28 16:33:49 - [ERROR] - [512280345618546699] [RAGäº‹å¯¦æå–-4] æ‰€æœ‰æå–å±¤ç´šå‡å¤±æ•—ï¼
2025-09-28 16:33:49 - [INFO] - [512280345618546699] [AIå°æ¼”] æ­£åœ¨å•Ÿå‹•å°æ¼”æ±ºç­–æ¨¡çµ„...
2025-09-28 16:33:51 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #3.
2025-09-28 16:33:51 - [INFO] - [512280345618546699] [AIå°æ¼”] æ±ºç­–å®Œæˆã€‚æœ€çµ‚åŠ‡æœ¬å¤§ç¶±: 'ç±³å©­åœ¨åŸƒå¾·è’™ç‹åœ‹ç‹éƒ½çš„ã€Œå’†å“®å£çˆé…’é¤¨ã€å¹³æ°‘å€çš„æ˜æš—å…‰ç·šä¸­ï¼Œç©ºæ°£ä¸­æ··é›œè‘—å»‰åƒ¹éº¥é…’ã€ç…™ç‡»æœ¨æå’Œæ±—æ°´çš„å‘³é“ã€‚å¥¹æ­£åœ¨é…’é¤¨ä¸­è§€å¯Ÿè‘—å·¥åŒ ã€å­¸å¾’å’Œå°å¸‚æ°‘å€‘çš„äº’å‹•ï¼Œå‚¾è½è‘—ä»–å€‘é—œæ–¼è²§æ°‘çªŸé‚£ä½èƒ½å‰µé€ å¥‡è¹Ÿçš„ã€Œç”Ÿå‘½ä¹‹ç¥ã€çš„å‚³èï¼Œé€™äº›å‚³èæ­£è¢«ä¸æ–·æ‰­æ›²ã€æ”¾å¤§ï¼Œæˆç‚ºé…’å®¢å€‘ç†±è¡·çš„è«‡è³‡ã€‚çªç„¶ï¼Œå¥¹è¢«ä¸€å€‹è²éŸ³æ‰“æ–·äº†ï¼Œæ˜¯å¡çˆ¾â€¢ç¶­åˆ©çˆ¾æ–¯å‹³çˆµã€‚ä»–å¸¶è‘—ä¸€æŠ¹ç©å‘³çš„ç¬‘å®¹ï¼Œç›®å…‰åœ¨ç±³å©­èº«ä¸ŠéŠç§»ï¼Œä¼¼ä¹å°å¥¹å‡ºç¾åœ¨é€™æ¨£ä¸€å€‹åœ°æ–¹æ„Ÿåˆ°äº›è¨±æ„å¤–ï¼Œåˆä¼¼ä¹æ—©å·²é æ–™åˆ°ã€‚å‹³çˆµé–‹å£ï¼Œè²éŸ³å¸¶è‘—ä»–ç‰¹æœ‰çš„ã€ä»¤äººé›£ä»¥æ‰æ‘¸çš„ç£æ€§ï¼Œä»–å•ç±³å©­ç‚ºä½•æœƒå‡ºç¾åœ¨é€™è£¡ï¼Œèªæ°£ä¸­å¸¶è‘—ä¸€çµ²ä¸å®¹ç½®ç–‘çš„æ¬Šå¨ï¼Œä½†åŒæ™‚ä¹Ÿéš±è—è‘—ä¸€çµ²æ¢ç©¶çš„æ„å‘³ã€‚ç±³å©­éœ€è¦å›æ‡‰å‹³çˆµçš„è©¢å•ï¼ŒåŒæ™‚è¦ä¿æŒå¥¹è–å¥³å’Œè’™æ©è€…çš„èº«ä»½ï¼Œä¸¦å°å‹³çˆµçš„å‡ºç¾åšå‡ºåæ‡‰ã€‚è«‹æå¯«ç±³å©­çš„åæ‡‰ä»¥åŠå¥¹èˆ‡å‹³çˆµçš„å°è©±ï¼Œå±•ç¾å‡ºå…©äººä¹‹é–“å¾®å¦™çš„æ¬ŠåŠ›é—œä¿‚å’Œå„è‡ªçš„ç«‹å ´ã€‚'
2025-09-28 16:33:51 - [INFO] - [512280345618546699] [ç´”ç²¹ç”Ÿæˆæµç¨‹] æ­£åœ¨åŸ·è¡Œå°èªªç”Ÿæˆ...
2025-09-28 16:34:30 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #4.
2025-09-28 16:34:31 - [INFO] - [512280345618546699] [ç´”ç²¹ç”Ÿæˆæµç¨‹] å°èªªæ–‡æœ¬ç”ŸæˆæˆåŠŸï¼Œä¸¦å·²ç‚ºäº‹å¾Œåˆ†æå‰µå»ºè©³ç´°ä¸Šä¸‹æ–‡å¿«ç…§ã€‚
2025-09-28 16:34:31 - [INFO] - [512280345618546699] å›æ‡‰å·²ç™¼é€ã€‚æ­£åœ¨å•Ÿå‹•çµ±ä¸€çš„ã€Œäº‹å¾Œåˆ†æã€ä»»å‹™...
2025-09-28 16:34:33 - [INFO] - [512280345618546699] [äº‹å¾Œåˆ†æ] æ­£åœ¨å•Ÿå‹•èƒŒæ™¯åˆ†æä»»å‹™...
2025-09-28 16:34:35 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #5.
2025-09-28 16:34:35 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #5) é­é‡è§£ææˆ–é©—è­‰éŒ¯èª¤: ValidationErrorã€‚
2025-09-28 16:34:35 - [ERROR] - [512280345618546699] [äº‹å¾Œåˆ†æ] ä»»å‹™ä¸»é«”ç™¼ç”Ÿæœªé æœŸçš„ç•°å¸¸: 3 validation errors for PostGenerationAnalysisResult
lore_updates.0.tool_name
  Field required [type=missing, input_value={'tool_code': 'update_npc...æ˜¯ç‚ºäº†å‹³çˆµã€‚'}]}}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
lore_updates.1.tool_name
  Field required [type=missing, input_value={'tool_code': 'update_npc...çœ¾äººçš„æ³¨æ„ã€‚'}]}}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
lore_updates.2.tool_name
  Field required [type=missing, input_value={'tool_code': 'update_wor...å©­çš„è¡Œç‚ºç›¸é—œã€‚'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 1355, in _background_lore_extraction
    analysis_result = await self.ainvoke_with_rotation(
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 802, in ainvoke_with_rotation
    raise e
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 783, in ainvoke_with_rotation
    return output_schema.model_validate(json.loads(clean_json_str))
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\pydantic\main.py", line 705, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 3 validation errors for PostGenerationAnalysisResult
lore_updates.0.tool_name
  Field required [type=missing, input_value={'tool_code': 'update_npc...æ˜¯ç‚ºäº†å‹³çˆµã€‚'}]}}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
lore_updates.1.tool_name
  Field required [type=missing, input_value={'tool_code': 'update_npc...çœ¾äººçš„æ³¨æ„ã€‚'}]}}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
lore_updates.2.tool_name
  Field required [type=missing, input_value={'tool_code': 'update_wor...å©­çš„è¡Œç‚ºç›¸é—œã€‚'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-28 16:34:55 - [INFO] - [512280345618546699] [æ’¤éŠ·] å·²æˆåŠŸå¾å ´æ™¯ '512280345618546699_local_åŸƒå¾·è’™ç‹åœ‹_ç‹éƒ½_å’†å“®å£çˆé…’é¤¨' çš„çŸ­æœŸè¨˜æ†¶ä¸­æ’¤éŠ·ä¸Šä¸€å›åˆã€‚
2025-09-28 16:34:55 - [INFO] - [512280345618546699] [æ’¤éŠ·-å¾Œç«¯] æ­£åœ¨å˜—è©¦å¾è³‡æ–™åº«åˆªé™¤æœ€æ–°ä¸€æ¢é•·æœŸè¨˜æ†¶...
2025-09-28 16:34:56 - [INFO] - [512280345618546699] [æ’¤éŠ·-å¾Œç«¯] âœ… æˆåŠŸåˆªé™¤ ID ç‚º 1 çš„é•·æœŸè¨˜æ†¶ã€‚
2025-09-28 16:34:56 - [INFO] - [512280345618546699] [æ’¤éŠ·] è™•æ–¼DMé »é“ï¼Œè·³éåˆªé™¤ä½¿ç”¨è€…è¨Šæ¯çš„æ­¥é©Ÿã€‚
