### AI Lover Log - Last updated at 2025-09-22T01:04:32.878341 ###

* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 549, in add_lore_to_rag
    await asyncio.to_thread(self.vector_store.add_documents, [doc], ids=[doc_id])
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\vectorstores\base.py", line 288, in add_documents
    return self.add_texts(texts, metadatas, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_chroma\vectorstores.py", line 606, in add_texts
    embeddings = self._embedding_function.embed_documents(texts)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 231, in embed_documents
    raise GoogleGenerativeAIError(f"Error embedding content: {e}") from e
langchain_google_genai._common.GoogleGenerativeAIError: Error embedding content: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]
2025-09-22 00:59:17 - [INFO] - 所有持久化 UI 視圖已成功註冊。
2025-09-22 00:59:17 - [INFO] - 正在嘗試將應用程式指令 (Slash Commands) 全域同步到 Discord...
2025-09-22 00:59:17 - [INFO] - ✅ 應用程式指令全域同步成功！(注意：全域指令更新可能需要長達一小時才能在所有伺服器生效)
2025-09-22 00:59:17 - [INFO] - Discord Bot is ready!
2025-09-22 00:59:20 - [INFO] - 【健康檢查 & Keep-Alive】背景任務已啟動。
2025-09-22 00:59:20 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-22 00:59:20 - [INFO] - 已成功發送啟動成功通知給管理員。
2025-09-22 00:59:31 - [INFO] - 使用者 512280345618546699 沒有活躍的 AI 實例，嘗試創建...
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 核心數據模板 'world_snapshot_template.txt' 已成功加載。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 核心協議模板 '00_supreme_directive.txt' 已成功加載並設置。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] (Retriever Builder) 已從 SQL 和 LORE 加載 4 條文檔用於構建 BM25。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] (Retriever Builder) 純 BM25 檢索器構建成功。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 所有構建鏈的前置資源已準備就緒。
2025-09-22 00:59:31 - [INFO] - 為使用者 512280345618546699 成功創建並初始化 AI 實例。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 正在從資料庫恢復短期場景記憶...
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 成功恢復了 1 個場景的對話歷史，總計 15 條訊息。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 啟動「生成即摘要」對話流程...
2025-09-22 00:59:31 - [INFO] - [512280345618546699] [預處理-生成即摘要] 正在準備上下文...
2025-09-22 00:59:31 - [INFO] - [512280345618546699] [導演視角] 當前錨定模式: 'local'
2025-09-22 00:59:31 - [INFO] - [512280345618546699] [導演視角] 檢測到本地互動指令，視角保持 'local'。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 接收到 profile 更新請求: ['game_state']
2025-09-22 00:59:31 - [INFO] - [512280345618546699] Profile 更新並持久化成功。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] 正在組合混合記憶...
2025-09-22 00:59:31 - [INFO] - [512280345618546699] [微任務檢測] 已注入上下文: 臨時短期任務：她不再有任何試探，整個身體向前傾倒，雙手緊緊抓著你的大腿以固定自己的位置，然後決絕地、一口氣地將你的肉棒向著自己的喉嚨深處吞去 (狀態：進行中)
2025-09-22 00:59:31 - [INFO] - [512280345618546699] (RAG Cache) 檢索到 4 份文檔，正在檢查淨化快取...
2025-09-22 00:59:31 - [WARNING] - [512280345618546699] (RAG Sanitizer) 所有檢索到的文檔都未能成功淨化。
2025-09-22 00:59:31 - [INFO] - [512280345618546699] [上下文篩選] 核心目標: [], 背景角色: ['艾倫', '莉拉']
2025-09-22 00:59:31 - [INFO] - [512280345618546699] [生成即摘要] 正在執行雙重輸出生成...
2025-09-22 01:00:06 - [INFO] - [512280345618546699] [生成即摘要] 雙重輸出解析成功。
2025-09-22 01:00:07 - [INFO] - [512280345618546699] 回應已發送。正在啟動事後處理任務...
2025-09-22 01:00:12 - [INFO] - [512280345618546699] [事後處理-LORE保險] 獨立的背景LORE提取器已啟動...
2025-09-22 01:00:13 - [INFO] - [512280345618546699] [事後處理-LORE保險] 提取到 1 條新LORE，準備執行擴展...
2025-09-22 01:00:13 - [INFO] - --- [512280345618546699] (LORE Executor) 開始串行執行 1 個LORE任务 ---
2025-09-22 01:00:17 - [INFO] - [512280345618546699] (LORE Executor) 任務成功: 已成功將 '深喉技巧 (進階)' 記錄為傳說。
2025-09-22 01:00:17 - [INFO] - --- [512280345618546699] (LORE Executor) LORE 扩展計畫执行完毕 ---
2025-09-22 01:00:17 - [INFO] - [512280345618546699] (LORE Executor) 背景任务的工具上下文已清理。
2025-09-22 01:00:17 - [INFO] - [512280345618546699] [Unified RAG] 已成功將 LORE 'deep_throat_technique_advanced' 的知識動態注入 BM25 檢索器。
