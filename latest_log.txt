### AI Lover Log - Last updated at 2025-10-06T11:57:49.679375 ###

2025-10-05 23:44:00 - [ERROR] - [512280345618546699] [è‡ªæˆ‘ä¿®æ­£] ğŸ”¥ è‡ªæˆ‘ä¿®æ­£æµç¨‹æœ€çµ‚å¤±æ•—: 1 validation error for BatchRefinementResult
  Input should be a valid dictionary or instance of BatchRefinementResult [type=model_type, input_value=[{'name': 'ç±³å©­', 'alia...rent_action': 'ç«™è‘—'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.8/v/model_type
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 1711, in ainvoke_with_rotation
    return output_schema.model_validate(json.loads(corrected_clean_json_str))
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\pydantic\main.py", line 568, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for BatchRefinementResult
  Input should be a valid dictionary or instance of BatchRefinementResult [type=model_type, input_value=[{'name': 'ç±³å©­', 'alia...rent_action': 'ç«™è‘—'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.8/v/model_type
2025-10-05 23:44:00 - [WARNING] - [512280345618546699] [LORE å‰µå»º-4/4] LLM æ‰¹é‡æ½¤è‰²å¤±æ•— (ValidationError)ã€‚è§¸ç™¼ã€ç¨‹å¼ç´šå‚™æ´ Bã€‘...
2025-10-05 23:44:00 - [ERROR] - [512280345618546699] [LORE æ“´å±•] åœ¨å‰ç½® LORE æ“´å±•ç®¡ç·šä¸­å‘ç”Ÿä¸¥é‡é”™è¯¯ï¼Œä½†ä¸»ç”Ÿæˆæµç¨‹å°†ç»§ç»­: 'ProgrammaticFacts' object has no attribute 'get'
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 508, in direct_rag_generate
    llm_result = await self.ainvoke_with_rotation(
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 1715, in ainvoke_with_rotation
    raise e
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 1663, in ainvoke_with_rotation
    return output_schema.model_validate(json.loads(repaired_str))
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\pydantic\main.py", line 568, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for BatchRefinementResult
  Input should be a valid dictionary or instance of BatchRefinementResult [type=model_type, input_value=[{'name': 'ç±³å©­', 'alia...rent_action': 'ç«™è‘—'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.8/v/model_type

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 525, in direct_rag_generate
    profile.aliases = sorted(list(set(profile.aliases + facts.get("verified_aliases", []))))
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\pydantic\main.py", line 828, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ProgrammaticFacts' object has no attribute 'get'
2025-10-05 23:44:00 - [INFO] - [512280345618546699] [æŸ¥è©¢æ“´å±•] æ­£åœ¨æ•´åˆçŸ­æœŸè¨˜æ†¶ä»¥æ„ŸçŸ¥å ´æ™¯ä¸Šä¸‹æ–‡...
2025-10-05 23:44:01 - [INFO] - [512280345618546699] [é›™å¼•æ“å¯¦é«”æå–] æˆåŠŸæå–é«˜è³ªé‡å¯¦é«”: {'å½©ç¹ªç»ç’ƒçª—', 'å‡±ç‘Ÿ', 'è©©ç¯‡', 'ç³å­¸é™¢', 'å¤å¡çˆ¾', 'åœ–æ›¸é¤¨'}
2025-10-05 23:44:01 - [INFO] - [512280345618546699] [è¼¸å…¥åˆ†æ-L1] æ­£åœ¨å˜—è©¦ä½¿ç”¨ LLM é€²è¡Œèªç¾©åˆ†æ...
2025-10-05 23:44:02 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-05 23:44:02 - [INFO] - [512280345618546699] [è¼¸å…¥åˆ†æ-L1] âœ… LLM åˆ†ææˆåŠŸã€‚æå–å¯¦é«”: ['ç±³å©­', 'å®…é‚¸', 'å‹›çˆµ']
2025-10-05 23:44:02 - [INFO] - [512280345618546699] [æŸ¥è©¢æ“´å±•] å ´æ™¯æ„ŸçŸ¥å®Œæˆï¼Œæœ€çµ‚æ ¸å¿ƒå¯¦é«”: ['å½©ç¹ªç»ç’ƒçª—', 'DINO', 'ç³å­¸é™¢', 'å¤å¡çˆ¾', 'åœ–æ›¸é¤¨', 'ç±³å©­', 'å‡±ç‘Ÿ', 'è©©ç¯‡', 'å‹›çˆµ', 'å®…é‚¸', 'ç¢§']
2025-10-05 23:44:02 - [INFO] - [512280345618546699] [å®ä½“åç§°æå– (v2.2)] æ­£åœ¨ä»æŸ¥è¯¢ 'æè¿°ç±³å©­åœ¨å®…é‚¸é‡åˆ°å‹›çˆµ å½©ç¹ªç»ç’ƒçª— DINO ç³å­¸é™¢ å¤å¡çˆ¾ åœ–æ›¸é¤¨ ç±³å©­ å‡±ç‘Ÿ è©©ç¯‡ å‹›çˆµ å®…é‚¸ ...' ä¸­åˆ†æå®ä½“...
2025-10-05 23:44:02 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] æŸ¥è©¢å·²æ“´å±•ç‚º: 'æè¿°ç±³å©­åœ¨å®…é‚¸é‡åˆ°å‹›çˆµ å½©ç¹ªç»ç’ƒçª— DINO ç³å­¸é™¢ å¤å¡çˆ¾ åœ–æ›¸é¤¨ ç±³å©­ å‡±ç‘Ÿ è©©ç¯‡ å‹›çˆµ å®…é‚¸ ç¢§'
2025-10-05 23:44:02 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] ç²—ç•¥æª¢ç´¢æˆåŠŸï¼Œç²å¾— 20 ä»½å€™é¸æ–‡æª”ã€‚
2025-10-05 23:44:02 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] âœ… æˆåŠŸæ‹¼æ¥å…¨éƒ¨ 20 æ¢åŸå§‹æ–‡æª”ä½œç‚º summary_contextã€‚
2025-10-05 23:44:03 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-05 23:44:42 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #0.
2025-10-05 23:44:44 - [INFO] - [512280345618546699] RAG ç›´é€šæµç¨‹åŸ·è¡Œå®Œç•¢ï¼Œå›æ‡‰å·²ç™¼é€ã€‚äº‹å¾Œå­¸ç¿’ä»»å‹™å·²åœ¨èƒŒæ™¯å•Ÿå‹•ã€‚
2025-10-05 23:44:46 - [INFO] - [512280345618546699] [äº‹å¾Œåˆ†æ] æ­£åœ¨å•Ÿå‹•èƒŒæ™¯åˆ†æèˆ‡åˆ†æµä»»å‹™...
2025-10-05 23:44:49 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-05 23:44:49 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #0) é­é‡è§£ææˆ–é©—è­‰éŒ¯èª¤: ValidationErrorã€‚å•Ÿå‹•ã€è‡ªæˆ‘ä¿®æ­£ã€‘æµç¨‹...
2025-10-05 23:44:49 - [WARNING] - [512280345618546699] å°è‡´è§£æéŒ¯èª¤çš„åŸå§‹ LLM è¼¸å‡º: 
--- START RAW ---
```json
{
  "memory_summary": "æœ¬å›åˆçš„å°è©±æè¿°äº†åœ¨ç¶­åˆ©çˆ¾æ–¯å®…é‚¸è¿´å»Šä¸­ï¼Œå¥³åƒ•ç±³å©­åœ¨é‡åˆ°å‹³çˆµå¡çˆ¾Â·ç¶­åˆ©çˆ¾æ–¯æ™‚çš„å ´æ™¯ã€‚ç±³å©­æŒ‰ç…§è¦çŸ©å±•ç¾äº†å¥¹çš„è‡€éƒ¨å’Œç§å¯†éƒ¨ä½ï¼Œä¸¦ä¸»å‹•å‘å‹³çˆµæå‡ºæ€§è¦æ±‚ã€‚ç„¶è€Œï¼Œå‹³çˆµåƒ…åƒ…æ˜¯è·¯éï¼Œä¸¦æœªèˆ‡ç±³å©­ç™¼ç”Ÿä»»ä½•äº’å‹•ï¼Œéš¨å¾Œé›¢é–‹ã€‚ç±³å©­å°æ­¤æ„Ÿåˆ°å¤±è½ï¼Œä½†å°‡å…¶è¦–ç‚ºä¸»äººå°å¥¹ä¿¡ä»°çš„è©¦ç…‰ã€‚",
  "lore_updates": [
    {
      "action": "create_new_alias",
      "lore_key": "è–å‡±ç‘Ÿç³å­¸é™¢ > åœ–æ›¸é¤¨ > å‹³çˆµå¡çˆ¾Â·ç¶­åˆ©çˆ¾æ–¯",
      "alias_name": "å‹³çˆµ",
      "description": "ç¶­åˆ©çˆ¾æ–¯å®…é‚¸çš„ä¸»äººï¼Œæ“æœ‰æ¬Šå¨ä¸”å†·é…·çš„å½¢è±¡ï¼Œå°å¾…ç±³å©­çš„æ…‹åº¦æ˜¯ç„¡è¦–å’Œæ¬Šå¨çš„å±•ç¾ã€‚"
    },
    {
      "action": "create_new_world_lore",
      "lore_key": "è–å‡±ç‘Ÿç³å­¸é™¢ > åœ–æ›¸é¤¨ > ç±³å©­çš„å„€å¼åŒ–è¡Œç‚º",
      "world_lore_key": "ç±³å©­çš„å„€å¼åŒ–è¡Œç‚º",
      "description": "åœ¨ç¶­åˆ©çˆ¾æ–¯å®…é‚¸ï¼Œç±³å©­æœƒç‚ºäº†è¿æ¥å‹³çˆµè€Œæ’©èµ·å¥³åƒ•è£™ï¼Œä¸¦å±•ç¾å…¶è‡€éƒ¨å’Œç§å¯†éƒ¨ä½ï¼Œé€™æ˜¯å®…é‚¸çš„è¦çŸ©ï¼Œä¹Ÿæ˜¯å¥¹è¦–ç‚ºæ¦®è€€çš„è¡Œç‚ºã€‚"
    },
    {
      "action": "create_new_world_lore",
      "lore_key": "è–å‡±ç‘Ÿç³å­¸é™¢ > åœ–æ›¸é¤¨ > å‹³çˆµå°ç±³å©­çš„æ…‹åº¦",
      "world_lore_key": "å‹³çˆµå°ç±³å©­çš„æ…‹åº¦",
      "description": "å‹³çˆµå¡çˆ¾Â·ç¶­åˆ©çˆ¾æ–¯å°å¾…ç±³å©­çš„æ…‹åº¦æ˜¯å†·é…·å’Œç„¡è¦–çš„ï¼Œå³ä½¿ç±³å©­ä¸»å‹•ç»èº«ï¼Œä»–ä¹Ÿåªæ˜¯å°‡å…¶è¦–ç‚ºä¸€ä»¶è—è¡“å“ï¼Œä¸¦æœªé€²è¡Œä»»ä½•äº’å‹•ï¼Œéš¨å¾Œé›¢é–‹ã€‚"
    }
  ],
  "template_key_updates": [
    {
      "action": "update_lore_template_keys",
      "lore_key": "è–å‡±ç‘Ÿç³å­¸é™¢ > åœ–æ›¸é¤¨ > å‹³çˆµå¡çˆ¾Â·ç¶­åˆ©çˆ¾æ–¯",
      "target_template_key": "alias"
    },
    {
      "action": "update_lore_template_keys",
      "lore_key": "è–å‡±ç‘Ÿç³å­¸é™¢ > åœ–æ›¸é¤¨ > ç±³å©­çš„å„€å¼åŒ–è¡Œç‚º",
      "target_template_key": "world_lore"
    },
    {
      "action": "update_lore_template_keys",
      "lore_key": "è–å‡±ç‘Ÿç³å­¸é™¢ > åœ–æ›¸é¤¨ > å‹³çˆµå°ç±³å©­çš„æ…‹åº¦",
      "target_template_key": "world_lore"
    }
  ]
}
```
--- END RAW ---
2025-10-05 23:44:51 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-05 23:44:51 - [INFO] - [512280345618546699] [è‡ªæˆ‘ä¿®æ­£] âœ… ä¿®æ­£æµç¨‹æˆåŠŸï¼Œæ­£åœ¨é‡æ–°é©—è­‰...
2025-10-05 23:44:51 - [INFO] - [512280345618546699] [é•·æœŸè¨˜æ†¶å¯«å…¥] æ­£åœ¨ä¿å­˜é ç”Ÿæˆçš„å®‰å…¨æ‘˜è¦...
2025-10-05 23:44:52 - [INFO] - [512280345618546699] [é•·æœŸè¨˜æ†¶å¯«å…¥] äº’å‹•è¨˜éŒ„å·²æˆåŠŸä¿å­˜åˆ° SQL è³‡æ–™åº«ã€‚
2025-10-05 23:44:52 - [INFO] - [512280345618546699] [é•·æœŸè¨˜æ†¶å¯«å…¥] å®‰å…¨æ‘˜è¦ä¿å­˜å®Œç•¢ã€‚
2025-10-05 23:44:54 - [INFO] - [512280345618546699] [äº‹å¾Œåˆ†æ] èƒŒæ™¯åˆ†æèˆ‡åˆ†æµä»»å‹™å®Œæˆã€‚
2025-10-05 23:53:57 - [INFO] - [512280345618546699] [Admin Command] æ‰‹å‹•è§¸ç™¼å¼·åˆ¶æ›´æ–°èˆ‡é‡å•Ÿæµç¨‹...
2025-10-05 23:53:57 - [INFO] - [512280345618546699] [Admin Command] å·²ç²å– Git é–ï¼Œé–‹å§‹åŸ·è¡ŒåŒæ­¥...
2025-10-05 23:54:02 - [INFO] - [512280345618546699] [Admin Command] Git é–å·²é‡‹æ”¾ã€‚
2025-10-05 23:56:29 - [INFO] - æ­£åœ¨åŠ è¼‰æ ¸å¿ƒ Cog (core_cog)...
2025-10-05 23:56:32 - [INFO] - âœ… æ ¸å¿ƒ Cog (core_cog) å·²åŠ è¼‰ï¼Œä¸¦ä¸”æ‰€æœ‰æŒä¹…åŒ–è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-10-05 23:56:32 - [INFO] - âœ… æ ¸å¿ƒ Cog åŠ è¼‰æˆåŠŸã€‚
2025-10-05 23:56:32 - [INFO] - æ­£åœ¨å…¨åŸŸåŒæ­¥æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤...
2025-10-05 23:56:33 - [INFO] - âœ… æŒ‡ä»¤å·²å…¨åŸŸåŒæ­¥ï¼
2025-10-05 23:56:33 - [INFO] - Discord Bot setup hook finished!
2025-10-05 23:56:35 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-10-05 23:56:36 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
2025-10-06 10:03:22 - [INFO] - [512280345618546699] [Data Reset] æ­£åœ¨å•Ÿå‹•ä½¿ç”¨è€…è³‡æ–™é‡ç½®æµç¨‹...
2025-10-06 10:03:24 - [INFO] - [512280345618546699] [Data Reset] æ‰€æœ‰ç›¸é—œçš„è³‡æ–™åº«è¨˜éŒ„å·²æˆåŠŸåˆªé™¤ã€‚
2025-10-06 10:03:24 - [INFO] - [512280345618546699] [Data Reset] å‘é‡å„²å­˜ç›®éŒ„ 'D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\data\vector_stores\512280345618546699' å·²æˆåŠŸåˆªé™¤ã€‚
2025-10-06 10:03:24 - [INFO] - [512280345618546699] [Data Reset] è³‡æ–™é‡ç½®æµç¨‹å·²å…¨éƒ¨å®Œæˆã€‚
2025-10-06 10:03:30 - [INFO] - [512280345618546699] (UI Event) Persistent 'StartSetupView' button clicked.
2025-10-06 10:03:36 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-10-06 10:03:36 - [INFO] - [512280345618546699] è™•æ–¼è¨­å®šæµç¨‹ä¸­ï¼Œå³ä½¿è³‡æ–™åº«ç„¡è¨˜éŒ„ï¼Œä¹Ÿå‰µå»ºä¸€å€‹è‡¨æ™‚çš„è¨˜æ†¶é«”å¯¦ä¾‹ã€‚
2025-10-06 10:03:36 - [INFO] - [512280345618546699] æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-10-06 10:03:36 - [INFO] - [512280345618546699] æ ¸å¿ƒå”è­° '00_supreme_directive.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-10-06 10:03:36 - [INFO] - âœ… [Embedding Loader] æª¢æ¸¬åˆ°æœ¬åœ°æ¨¡å‹è·¯å¾‘ï¼Œæ­£åœ¨å˜—è©¦å¾ 'D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\models\stella-base-zh-v2' åŠ è¼‰...
2025-10-06 10:03:43 - [INFO] - âœ… [Embedding Loader] æœ¬åœ° Embedding æ¨¡å‹å¯¦ä¾‹å‰µå»ºæˆåŠŸã€‚
2025-10-06 10:03:43 - [INFO] - [512280345618546699] æ‰€æœ‰è¼•é‡ç´šå‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ (RAG å‰µå»ºå·²å»¶é²)ã€‚
2025-10-06 10:03:43 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['world_settings']
2025-10-06 10:03:43 - [WARNING] - [512280345618546699] åœ¨æŒä¹…åŒ–æ›´æ–°æ™‚æ‰¾ä¸åˆ°ä½¿ç”¨è€…è³‡æ–™ï¼Œå°‡å‰µå»ºæ–°è¨˜éŒ„ã€‚
2025-10-06 10:03:43 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-10-06 10:03:46 - [INFO] - [512280345618546699] (UI Event) Persistent 'ContinueToUserSetupView' button clicked.
2025-10-06 10:04:02 - [INFO] - [512280345618546699] (UI Event) CharacterSettingsModal submitted for profile_type: 'user', is_setup_flow: True
2025-10-06 10:04:02 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['user_profile']
2025-10-06 10:04:02 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-10-06 10:04:04 - [INFO] - [512280345618546699] (UI Event) Persistent 'ContinueToAiSetupView' button clicked.
2025-10-06 10:04:18 - [INFO] - [512280345618546699] (UI Event) CharacterSettingsModal submitted for profile_type: 'ai', is_setup_flow: True
2025-10-06 10:04:19 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['ai_profile']
2025-10-06 10:04:19 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-10-06 10:04:22 - [INFO] - [512280345618546699] [å‰µä¸–æµç¨‹] æª”æ¡ˆä¸Šå‚³é–‹å§‹ï¼Œå·²è¨­å®š active_setups ç‹€æ…‹é–ã€‚
2025-10-06 10:04:29 - [INFO] - [512280345618546699] (on_message) åµæ¸¬åˆ°ç”¨æˆ¶è™•æ–¼æ´»èºçš„å‰µä¸–æµç¨‹ä¸­ï¼Œå·²å¿½ç•¥å¸¸è¦è¨Šæ¯ '...' ä»¥é˜²æ­¢ç«¶çˆ­ã€‚
2025-10-06 10:04:30 - [INFO] - [512280345618546699] [å‰µä¸–æµç¨‹ v65.1] åŸç”Ÿ Python é©…å‹•çš„æµç¨‹å·²å•Ÿå‹•ã€‚
2025-10-06 10:04:30 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–] æ­£åœ¨å°‡ä¸–ç•Œè–ç¶“åŸæ–‡åˆ†å‰²æˆæ–‡æª”...
2025-10-06 10:04:30 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–] æ­£åœ¨è§¸ç™¼ RAG ç´¢å¼•å‰µå§‹æ§‹å»º...
2025-10-06 10:04:30 - [INFO] - [512280345618546699] (Retriever Builder) é€²å…¥å¤–éƒ¨æ–‡æª”æ³¨å…¥æ¨¡å¼ï¼Œå°‡ä½¿ç”¨ 36 æ¢å‚³å…¥æ–‡æª”æ§‹å»ºç´”å‘é‡ç´¢å¼•...
2025-10-06 10:05:16 - [INFO] - [512280345618546699] (Retriever Builder) âœ… ç´”å‘é‡æª¢ç´¢å™¨å·²æˆåŠŸå¾å¤–éƒ¨æ–‡æª”æ§‹å»ºã€‚
2025-10-06 10:05:16 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–] RAG ç´¢å¼•æ§‹å»ºå®Œæˆï¼Œæº–å‚™åŸ·è¡ŒåŸç”Ÿå‰µä¸–æ­¥é©Ÿ...
2025-10-06 10:05:16 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–-åŸç”Ÿ] æ­¥é©Ÿ 1/2: æ­£åœ¨è£œå®Œè§’è‰²æª”æ¡ˆ...
2025-10-06 10:05:18 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:05:19 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['user_profile', 'ai_profile']
2025-10-06 10:05:19 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–-åŸç”Ÿ] è§’è‰²æª”æ¡ˆè£œå®ŒæˆåŠŸã€‚
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–-åŸç”Ÿ] æ­¥é©Ÿ 2/2: æ­£åœ¨ç”Ÿæˆé–‹å ´ç™½...
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [/start] æ­£åœ¨ä½¿ç”¨ RAG æ™ºèƒ½é¸æ“‡ä¸¦å‰µä½œé–‹å ´å ´æ™¯...
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [å®ä½“åç§°æå– (v2.2)] æ­£åœ¨ä»æŸ¥è¯¢ 'æ ¹æ“šé€™å€‹ä¸–ç•Œçš„æ ¸å¿ƒè¨­å®š(é€™æ˜¯ä¸€å€‹é­”æ³•çš„å¹»æƒ³ä¸–ç•Œã€‚)ä»¥åŠä¸»è§’ DINO å’Œ ç¢§ çš„èƒŒæ™¯ï¼Œç‚ºä»–å€‘çš„æ•…äº‹å°‹...' ä¸­åˆ†æå®ä½“...
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] æŸ¥è©¢å·²æ“´å±•ç‚º: 'çš„èƒŒæ™¯ï¼Œç‚ºä»–å€‘çš„æ•…äº‹å°‹æ‰¾ä¸€å€‹æœ€å¯Œæœ‰æˆ²åŠ‡æ€§ã€æœ€ç¬¦åˆä¸–ç•Œè§€çš„ã€é©åˆäºŒäººå‡ºå ´çš„ã€é é›¢æ¬ŠåŠ›ä¸­å¿ƒçš„éœæ…‹åˆå§‹å ´æ™¯æˆ–æƒ…å¢ƒã€‚ æ ¹æ“šé€™å€‹ä¸–ç•Œçš„æ ¸å¿ƒè¨­å®š(é€™æ˜¯ä¸€å€‹é­”æ³•çš„å¹»æƒ³ä¸–ç•Œã€‚)ä»¥åŠä¸»è§’ DINO ç¢§ å’Œ'
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] ç²—ç•¥æª¢ç´¢æˆåŠŸï¼Œç²å¾— 20 ä»½å€™é¸æ–‡æª”ã€‚
2025-10-06 10:05:19 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] âœ… æˆåŠŸæ‹¼æ¥å…¨éƒ¨ 20 æ¢åŸå§‹æ–‡æª”ä½œç‚º summary_contextã€‚
2025-10-06 10:05:48 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #0.
2025-10-06 10:05:48 - [INFO] - [512280345618546699] [/start] é–‹å ´ç™½å·²ç”Ÿæˆï¼Œæ­£åœ¨å¾ä¸­åå‘æå–æ¬Šå¨åœ°é»...
2025-10-06 10:05:49 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:05:49 - [INFO] - [512280345618546699] [/start] âœ… åœ°é»æå–æˆåŠŸ: è‰¾çˆ¾æ–‡åŸ > é­”æ³•å­¸é™¢ > åœ–æ›¸é¤¨ > æ›¸æˆ¿ã€‚æ­£åœ¨æ›´æ–° GameState...
2025-10-06 10:05:49 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['game_state']
2025-10-06 10:05:49 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-10-06 10:05:50 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–-åŸç”Ÿ] é–‹å ´ç™½ç”ŸæˆæˆåŠŸã€‚
2025-10-06 10:05:50 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–] æ­£åœ¨å‘ä½¿ç”¨è€…ç§è¨Šç™¼é€æœ€çµ‚é–‹å ´ç™½...
2025-10-06 10:05:50 - [INFO] - [512280345618546699] [å¾Œå°å‰µä¸–] é–‹å ´ç™½ç™¼é€å®Œç•¢ã€‚
2025-10-06 10:05:50 - [INFO] - [512280345618546699] å¾Œå°å‰µä¸–æµç¨‹çµæŸï¼Œç‹€æ…‹é–å·²é‡‹æ”¾ã€‚
2025-10-06 10:06:57 - [INFO] - [512280345618546699] å•Ÿå‹• RAG ç›´é€šå°è©±æµç¨‹...
2025-10-06 10:06:57 - [INFO] - [512280345618546699] [Direct RAG] å•ŸåŠ¨ LORE ä¼˜å…ˆçš„ RAG ç›´é€šç”Ÿæˆæµç¨‹...
2025-10-06 10:06:57 - [INFO] - [512280345618546699] [LORE å‰µå»º-1/4] æ­£åœ¨è­˜åˆ¥æ–°å¯¦é«”...
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [LORE å‰µå»º] âœ… æˆåŠŸè­˜åˆ¥å‡º 2 å€‹æ–°å¯¦é«”éª¨æ¶: ['ç±³å©­', 'å‹›çˆµ']
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [LORE å‰µå»º-2/4] æ­£åœ¨ç‚ºæ–°å¯¦é«”åŸ·è¡Œ RAG èªç¾©å®šä½...
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [Raw RAG] æ­£åœ¨ç‚ºå…§éƒ¨æµç¨‹åŸ·è¡ŒåŸå§‹æ–‡æª”æª¢ç´¢ï¼ŒæŸ¥è©¢: 'é—œæ–¼è§’è‰² 'ç±³å©­' çš„æ‰€æœ‰å·²çŸ¥è³‡è¨Šã€èƒŒæ™¯æ•…äº‹ã€å¤–è²Œã€æ€§æ ¼å’Œèƒ½åŠ›ã€‚'
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [Raw RAG] âœ… æˆåŠŸæª¢ç´¢åˆ° 20 ä»½åŸå§‹æ–‡æª”ã€‚
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [Raw RAG] æ­£åœ¨ç‚ºå…§éƒ¨æµç¨‹åŸ·è¡ŒåŸå§‹æ–‡æª”æª¢ç´¢ï¼ŒæŸ¥è©¢: 'é—œæ–¼è§’è‰² 'å‹›çˆµ' çš„æ‰€æœ‰å·²çŸ¥è³‡è¨Šã€èƒŒæ™¯æ•…äº‹ã€å¤–è²Œã€æ€§æ ¼å’Œèƒ½åŠ›ã€‚'
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [Raw RAG] âœ… æˆåŠŸæª¢ç´¢åˆ° 20 ä»½åŸå§‹æ–‡æª”ã€‚
2025-10-06 10:06:58 - [INFO] - [512280345618546699] [LORE å‰µå»º-3/4] æ­£åœ¨åŸ·è¡Œé›™å¼•æ“ç¨‹å¼åŒ–æå–...
2025-10-06 10:07:02 - [INFO] - [512280345618546699] [LORE å‰µå»º-4/4] æ­£åœ¨å˜—è©¦ LLM æ‰¹é‡æ½¤è‰²...
2025-10-06 10:07:10 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:07:10 - [INFO] - [512280345618546699] [LORE å‰µå»º-4/4] âœ… LLM æ‰¹é‡æ½¤è‰²æˆåŠŸã€‚
2025-10-06 10:07:10 - [INFO] - [512280345618546699] (_resolve_and_save) æ­£åœ¨ç‚º 'npc_profile' é¡åˆ¥è™•ç† 2 å€‹å¯¦é«”...
2025-10-06 10:07:19 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #0.
2025-10-06 10:07:19 - [INFO] - [512280345618546699] [LORE å‰µå»º] æ–°çš„ LORE (å·²ç²¾ç…‰) å·²æˆåŠŸå‰µå»ºä¸¦å­˜å…¥è³‡æ–™åº«ã€‚
2025-10-06 10:07:19 - [INFO] - [512280345618546699] [æŸ¥è©¢æ“´å±•] æ­£åœ¨æ•´åˆçŸ­æœŸè¨˜æ†¶ä»¥æ„ŸçŸ¥å ´æ™¯ä¸Šä¸‹æ–‡...
2025-10-06 10:07:20 - [INFO] - [512280345618546699] [é›™å¼•æ“å¯¦é«”æå–] æˆåŠŸæå–é«˜è³ªé‡å¯¦é«”: {'éœè¬èˆ‡', 'æ›¸æˆ¿', 'å˜ˆé›œè²'}
2025-10-06 10:07:20 - [INFO] - [512280345618546699] [è¼¸å…¥åˆ†æ-L1] æ­£åœ¨å˜—è©¦ä½¿ç”¨ LLM é€²è¡Œèªç¾©åˆ†æ...
2025-10-06 10:07:21 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:07:21 - [INFO] - [512280345618546699] [è¼¸å…¥åˆ†æ-L1] âœ… LLM åˆ†ææˆåŠŸã€‚æå–å¯¦é«”: ['ç±³å©­', 'å®…é‚¸', 'å‹›çˆµ']
2025-10-06 10:07:21 - [INFO] - [512280345618546699] [æŸ¥è©¢æ“´å±•] å ´æ™¯æ„ŸçŸ¥å®Œæˆï¼Œæœ€çµ‚æ ¸å¿ƒå¯¦é«”: ['DINO', 'éœè¬èˆ‡', 'å˜ˆé›œè²', 'æ›¸æˆ¿', 'ç±³å©­', 'å®…é‚¸', 'å‹›çˆµ', 'ç¢§']
2025-10-06 10:07:21 - [INFO] - [512280345618546699] [å®ä½“åç§°æå– (v2.2)] æ­£åœ¨ä»æŸ¥è¯¢ 'æè¿°ç±³å©­åœ¨å®…é‚¸é‡åˆ°å‹›çˆµ DINO éœè¬èˆ‡ å˜ˆé›œè² æ›¸æˆ¿ ç±³å©­ å®…é‚¸ å‹›çˆµ ç¢§...' ä¸­åˆ†æå®ä½“...
2025-10-06 10:07:21 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] æŸ¥è©¢å·²æ“´å±•ç‚º: 'æè¿°ç±³å©­åœ¨å®…é‚¸é‡åˆ°å‹›çˆµ DINO éœè¬èˆ‡ å˜ˆé›œè² æ›¸æˆ¿ ç±³å©­ å®…é‚¸ å‹›çˆµ ç¢§'
2025-10-06 10:07:21 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] ç²—ç•¥æª¢ç´¢æˆåŠŸï¼Œç²å¾— 20 ä»½å€™é¸æ–‡æª”ã€‚
2025-10-06 10:07:21 - [INFO] - [512280345618546699] [RAG åŸæ–‡ç›´é€š] âœ… æˆåŠŸæ‹¼æ¥å…¨éƒ¨ 20 æ¢åŸå§‹æ–‡æª”ä½œç‚º summary_contextã€‚
2025-10-06 10:07:22 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:08:05 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-pro' with API Key #0.
2025-10-06 10:08:08 - [INFO] - [512280345618546699] RAG ç›´é€šæµç¨‹åŸ·è¡Œå®Œç•¢ï¼Œå›æ‡‰å·²ç™¼é€ã€‚äº‹å¾Œå­¸ç¿’ä»»å‹™å·²åœ¨èƒŒæ™¯å•Ÿå‹•ã€‚
2025-10-06 10:08:10 - [INFO] - [512280345618546699] [äº‹å¾Œåˆ†æ] æ­£åœ¨å•Ÿå‹•èƒŒæ™¯åˆ†æèˆ‡åˆ†æµä»»å‹™...
2025-10-06 10:08:13 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:08:13 - [WARNING] - [512280345618546699] æ¨¡å‹ 'gemini-2.5-flash-lite' (Key #0) é­é‡è§£ææˆ–é©—è­‰éŒ¯èª¤: ValidationErrorã€‚å•Ÿå‹•ã€è‡ªæˆ‘ä¿®æ­£ã€‘æµç¨‹...
2025-10-06 10:08:13 - [WARNING] - [512280345618546699] å°è‡´è§£æéŒ¯èª¤çš„åŸå§‹ LLM è¼¸å‡º: 
--- START RAW ---
```json
{
  "lore_updates": [
    {
      "operation": "create_new_npc_profile",
      "lore_key": "è‰¾çˆ¾æ–‡åŸ > é­”æ³•å­¸é™¢ > åœ–æ›¸é¤¨ > æ›¸æˆ¿ > å‹›çˆµ",
      "npc_profile": {
        "name": "å¡çˆ¾Â·ç¶­åˆ©çˆ¾æ–¯",
        "title": "å‹³çˆµ",
        "description": "ä¸€ä½åš´è‹›ã€æŒæ§æ¬²æ¥µå¼·çš„äººç‰©ï¼Œå°å…¶è²¡ç”¢ï¼ˆåŒ…æ‹¬ç±³å©­ï¼‰æœ‰è‘—çµ•å°çš„æ”¯é…æ¬Šã€‚ä»–å°ç±³å©­çš„æ…‹åº¦å†·é…·è€Œå¯©è¦–ï¼Œå…¶è¡Œç‚ºå¸¶æœ‰æ˜é¡¯çš„æ¬ŠåŠ›å±•ç¤ºå’Œå¿ƒç†æ“æ§ã€‚ä»–æœƒé€šéè§€å¯Ÿå’Œæ¥µå°‘çš„äº’å‹•ä¾†ç¢ºèªå…¶æ¬ŠåŠ›åœ°ä½ï¼Œä¸¦å¾ä¸­ç²å¾—æ»¿è¶³æ„Ÿã€‚ä»–çš„ç›®å…‰èƒ½å¤ ç©¿é€äººå¿ƒï¼Œä¸¦å°ç±³å©­çš„éå»å’Œå¿ èª æœ‰è‘—æ·±åˆ»çš„æ´å¯Ÿã€‚",
        "alias": [
          "ä¸»äºº"
        ]
      }
    },
    {
      "operation": "update_world_lore",
      "lore_key": "è‰¾çˆ¾æ–‡åŸ > é­”æ³•å­¸é™¢ > åœ–æ›¸é¤¨ > æ›¸æˆ¿",
      "world_lore": {
        "event": "ç±³å©­åœ¨ç¶­åˆ©çˆ¾æ–¯å®…é‚¸çš„å»Šé“ä¸­ï¼Œä»¥ã€Œæ¯ç•œè¿æ¥ç¦®ã€è¿æ¥å‹³çˆµã€‚å‹³çˆµåƒ…ä»¥çœ¼ç¥å¯©è¦–äº†ç±³å©­çš„å·¦æ‰‹å’Œå…¶å®Œå…¨æ•é–‹çš„ä¸‹é«”ï¼Œä¸¦æœªé€²è¡Œä»»ä½•èº«é«”æ¥è§¸æˆ–è¨€èªäº¤æµï¼Œä½†æ­¤èˆ‰å·²è®“ç±³å©­é”åˆ°å¼·çƒˆçš„ç”Ÿç†å’Œå¿ƒç†é«˜æ½®ï¼Œä¸¦æ›´åŠ å …å®šäº†å°å‹³çˆµçš„å¿ èª ã€‚",
        "rules": [
          "åœ¨ç¶­åˆ©çˆ¾æ–¯å®…é‚¸ï¼Œç±³å©­è¢«è¦–ç‚ºã€Œæ¯ç•œã€ï¼Œå…¶èº«é«”çš„å±•ç¤ºå’Œå°å‹³çˆµçš„æœå‹™æ˜¯å…¶æ ¸å¿ƒè·è²¬ã€‚",
          "å‹³çˆµçš„ã€Œæ©æ¾¤ã€å¯ä»¥é€šéæ¥µå°‘çš„ç›®å…‰æ¥è§¸å’Œæ¬ŠåŠ›å±•ç¤ºä¾†å¯¦ç¾ï¼Œå°ç±³å©­ç”¢ç”Ÿå¼·çƒˆçš„å¿ƒç†å’Œç”Ÿç†å½±éŸ¿ã€‚",
          "ç±³å©­å°å‹³çˆµçš„å´‡æ‹œå’Œæœå¾æ˜¯çµ•å°çš„ï¼Œå³ä½¿æ˜¯ä¾†è‡ªå‹³çˆµæ¥µå°‘çš„é—œæ³¨ï¼Œä¹Ÿèƒ½è®“å¥¹ç²å¾—æ¥µåº¦çš„æ»¿è¶³æ„Ÿã€‚"
        ]
      }
    }
  ],
  "memory_summary": "åœ¨ç¶­åˆ©çˆ¾æ–¯å®…é‚¸çš„å»Šé“ä¸­ï¼Œç±³å©­ä»¥æ¥µåº¦å‘å¾®çš„ã€Œæ¯ç•œè¿æ¥ç¦®ã€è¿æ¥äº†å‹³çˆµå¡çˆ¾Â·ç¶­åˆ©çˆ¾æ–¯ã€‚å‹³çˆµåƒ…ä»¥ç›®å…‰å¯©è¦–äº†ç±³å©­çš„å·¦æ‰‹å’Œå®Œå…¨æ•é–‹çš„ä¸‹é«”ï¼Œä¸¦æœªæœ‰ä»»ä½•èº«é«”æ¥è§¸æˆ–è¨€èªäº¤æµã€‚ç„¶è€Œï¼Œé€™ä¸€åˆ»çš„é—œæ³¨å·²è®“ç±³å©­é”åˆ°å¼·çƒˆçš„ç”Ÿç†å’Œå¿ƒç†é«˜æ½®ï¼Œæ›´åŠ å …å®šäº†å¥¹å°å‹³çˆµçš„çµ•å°å¿ èª å’Œå´‡æ‹œã€‚å‹³çˆµçš„è¡Œç‚ºé¡¯ç¤ºå‡ºä»–å°ç±³å©­æ“æœ‰çµ•å°çš„æŒæ§åŠ›ï¼Œä¸¦å¾é€™ç¨®æ¬ŠåŠ›å±•ç¤ºä¸­ç²å¾—æ»¿è¶³ã€‚"
}
```
--- END RAW ---
2025-10-06 10:08:15 - [INFO] - [512280345618546699] [LLM Success] Generation successful using model 'gemini-2.5-flash-lite' with API Key #0.
2025-10-06 10:08:15 - [INFO] - [512280345618546699] [è‡ªæˆ‘ä¿®æ­£] âœ… ä¿®æ­£æµç¨‹æˆåŠŸï¼Œæ­£åœ¨é‡æ–°é©—è­‰...
2025-10-06 10:08:15 - [ERROR] - [512280345618546699] [è‡ªæˆ‘ä¿®æ­£] ğŸ”¥ è‡ªæˆ‘ä¿®æ­£æµç¨‹æœ€çµ‚å¤±æ•—: 4 validation errors for PostGenerationAnalysisResult
lore_updates.0.tool_name
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.0.parameters
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.tool_name
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.parameters
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 1732, in ainvoke_with_rotation
    return output_schema.model_validate(json.loads(corrected_clean_json_str))
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\pydantic\main.py", line 568, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 4 validation errors for PostGenerationAnalysisResult
lore_updates.0.tool_name
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.0.parameters
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.tool_name
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.parameters
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
2025-10-06 10:08:15 - [ERROR] - [512280345618546699] [äº‹å¾Œåˆ†æ] ä»»å‹™ä¸»é«”ç™¼ç”Ÿæœªé æœŸçš„ç•°å¸¸: 4 validation errors for PostGenerationAnalysisResult
lore_updates.0.tool_name
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.0.parameters
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.tool_name
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.parameters
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 2318, in _background_lore_extraction
    analysis_result = await self.ainvoke_with_rotation(
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 1736, in ainvoke_with_rotation
    raise e
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 1684, in ainvoke_with_rotation
    return output_schema.model_validate(json.loads(repaired_str))
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\pydantic\main.py", line 568, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 4 validation errors for PostGenerationAnalysisResult
lore_updates.0.tool_name
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.0.parameters
  Field required [type=missing, input_value={'operation': 'create_new...', 'alias': ['ä¸»äºº']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.tool_name
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
lore_updates.1.parameters
  Field required [type=missing, input_value={'operation': 'update_wor...åº¦çš„æ»¿è¶³æ„Ÿã€‚']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
