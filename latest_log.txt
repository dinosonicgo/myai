### AI Lover Log - Last updated at 2025-09-29T21:56:08.232401 ###

2025-09-29 21:25:22 - [INFO] - [512280345618546699] è™•æ–¼è¨­å®šæµç¨‹ä¸­ï¼Œå³ä½¿è³‡æ–™åº«ç„¡è¨˜éŒ„ï¼Œä¹Ÿå‰µå»ºä¸€å€‹è‡¨æ™‚çš„è¨˜æ†¶é«”å¯¦ä¾‹ã€‚
2025-09-29 21:25:22 - [ERROR] - [512280345618546699] è‡´å‘½éŒ¯èª¤: æœªæ‰¾åˆ°æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt'ï¼
2025-09-29 21:25:22 - [CRITICAL] - [512280345618546699] è‡´å‘½éŒ¯èª¤: æœªæ‰¾åˆ°æ ¸å¿ƒå”è­° '00_supreme_directive.txt'ï¼
2025-09-29 21:25:22 - [INFO] - [512280345618546699] [RAG Mode] æ­£åœ¨å˜—è©¦åˆå§‹åŒ–ã€æ··åˆé›²ç«¯æ¨¡å¼ã€‘...
2025-09-29 21:25:22 - [INFO] - [512280345618546699] æ­£åœ¨å‰µå»º Embedding æ¨¡å‹å¯¦ä¾‹ (API Key index: 0)
2025-09-29 21:25:22 - [WARNING] - [512280345618546699] [RAG Mode] åˆå§‹åŒ–ã€æ··åˆé›²ç«¯æ¨¡å¼ã€‘å¤±æ•—: GoogleGenerativeAIErrorã€‚æ­£åœ¨é™ç´š...
2025-09-29 21:25:22 - [INFO] - [512280345618546699] [RAG Mode] æ­£åœ¨å˜—è©¦åˆå§‹åŒ–ã€æ··åˆæœ¬åœ°æ¨¡å¼ã€‘...
2025-09-29 21:28:06 - [ERROR] - [512280345618546699] [RAG Mode] åˆå§‹åŒ–ã€æ··åˆæœ¬åœ°æ¨¡å¼ã€‘æœ€çµ‚å¤±æ•—: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
Traceback (most recent call last):
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 225, in embed_documents
    result = self.client.batch_embed_contents(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 1365, in batch_embed_contents
    response = rpc(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 3557, in _configure_pre_requisites
    await google_embeddings.aembed_query("test")
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\embeddings\embeddings.py", line 79, in aembed_query
    return await run_in_executor(None, self.embed_query, text)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\runnables\config.py", line 590, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\runnables\config.py", line 581, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 254, in embed_query
    return self.embed_documents(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 229, in embed_documents
    raise GoogleGenerativeAIError(f"Error embedding content: {e}") from e
langchain_google_genai._common.GoogleGenerativeAIError: Error embedding content: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 3574, in _configure_pre_requisites
    self.embeddings = HuggingFaceEmbeddings(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\_api\deprecation.py", line 215, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_community\embeddings\huggingface.py", line 92, in __init__
    self.client = sentence_transformers.SentenceTransformer(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\SentenceTransformer.py", line 327, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\SentenceTransformer.py", line 2305, in _load_sbert_model
    module = module_class.load(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\models\Transformer.py", line 365, in load
    return cls(model_name_or_path=model_name_or_path, **init_kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\models\Transformer.py", line 88, in __init__
    self._load_model(model_name_or_path, config, cache_dir, backend, is_peft_model, **model_args)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\models\Transformer.py", line 196, in _load_model
    self.auto_model = AutoModel.from_pretrained(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\models\auto\auto_factory.py", line 600, in from_pretrained
    return model_class.from_pretrained(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 4839, in from_pretrained
    ) = cls._load_pretrained_model(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 5105, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2025-09-29 21:28:06 - [CRITICAL] - [512280345618546699] [RAG Mode] ğŸ”¥ æ‰€æœ‰ Embedding æ–¹æ¡ˆå‡å¤±æ•—ï¼ç³»çµ±å·²é™ç´šè‡³ã€ç´”é—œéµå­—æ¨¡å¼ã€‘ã€‚
2025-09-29 21:28:06 - [INFO] - [512280345618546699] (Retriever Builder) æ­£åœ¨æ§‹å»º RAG æª¢ç´¢å™¨ (æ¨¡å¼: keyword_only, å¼·åˆ¶é‡å»º: False)...
2025-09-29 21:28:06 - [INFO] - [512280345618546699] (Retriever Builder) âš ï¸ SQL çŸ¥è­˜åº«ç‚ºç©ºï¼ŒBM25 æª¢ç´¢å™¨æœªåˆå§‹åŒ–ã€‚
2025-09-29 21:28:06 - [WARNING] - [512280345618546699] (Retriever Builder) âš ï¸ èªæ„æœç´¢åŠŸèƒ½æœªå•Ÿç”¨ï¼Œè·³éåˆå§‹åŒ– ChromaDB æª¢ç´¢å™¨ã€‚
2025-09-29 21:28:06 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ æ‰€æœ‰æª¢ç´¢å™¨å‡åˆå§‹åŒ–å¤±æ•—ï¼RAG ç³»çµ±å°‡è¿”å›ç©ºçµæœã€‚
2025-09-29 21:28:06 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ (ç•¶å‰ RAG æ¨¡å¼: keyword_only)ã€‚
2025-09-29 21:28:06 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['world_settings']
2025-09-29 21:28:06 - [WARNING] - [512280345618546699] åœ¨æŒä¹…åŒ–æ›´æ–°æ™‚æ‰¾ä¸åˆ°ä½¿ç”¨è€…è³‡æ–™ï¼Œå°‡å‰µå»ºæ–°è¨˜éŒ„ã€‚
2025-09-29 21:28:08 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-29 21:28:14 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-29 21:45:24 - [INFO] - æ‰€æœ‰æŒä¹…åŒ– UI è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-09-29 21:45:24 - [INFO] - æ­£åœ¨å˜—è©¦å°‡æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤ (Slash Commands) å…¨åŸŸåŒæ­¥åˆ° Discord...
2025-09-29 21:45:24 - [INFO] - âœ… æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤å…¨åŸŸåŒæ­¥æˆåŠŸï¼(æ³¨æ„ï¼šå…¨åŸŸæŒ‡ä»¤æ›´æ–°å¯èƒ½éœ€è¦é•·é”ä¸€å°æ™‚æ‰èƒ½åœ¨æ‰€æœ‰ä¼ºæœå™¨ç”Ÿæ•ˆ)
2025-09-29 21:45:24 - [INFO] - Discord Bot is ready!
2025-09-29 21:45:27 - [INFO] - ã€å¥åº·æª¢æŸ¥ & Keep-Aliveã€‘èƒŒæ™¯ä»»å‹™å·²å•Ÿå‹•ã€‚
2025-09-29 21:45:27 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-29 21:45:28 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
2025-09-29 21:45:46 - [INFO] - æ‰€æœ‰æŒä¹…åŒ– UI è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-09-29 21:45:46 - [INFO] - æ­£åœ¨å˜—è©¦å°‡æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤ (Slash Commands) å…¨åŸŸåŒæ­¥åˆ° Discord...
2025-09-29 21:46:24 - [INFO] - âœ… æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤å…¨åŸŸåŒæ­¥æˆåŠŸï¼(æ³¨æ„ï¼šå…¨åŸŸæŒ‡ä»¤æ›´æ–°å¯èƒ½éœ€è¦é•·é”ä¸€å°æ™‚æ‰èƒ½åœ¨æ‰€æœ‰ä¼ºæœå™¨ç”Ÿæ•ˆ)
2025-09-29 21:46:24 - [INFO] - Discord Bot is ready!
2025-09-29 21:46:27 - [INFO] - ã€å¥åº·æª¢æŸ¥ & Keep-Aliveã€‘èƒŒæ™¯ä»»å‹™å·²å•Ÿå‹•ã€‚
2025-09-29 21:46:27 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-29 21:46:28 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
2025-09-29 21:46:28 - [INFO] - [512280345618546699] å¾Œå°é‡ç½®ä»»å‹™é–‹å§‹...
2025-09-29 21:46:28 - [INFO] - [512280345618546699] æ­£åœ¨ä»æ•°æ®åº“åˆ é™¤æ‰€æœ‰ç›¸å…³æ•°æ®...
2025-09-29 21:46:28 - [INFO] - [512280345618546699] æ•°æ®åº“æ¸…ç†å®Œæˆã€‚
2025-09-29 21:46:30 - [INFO] - [512280345618546699] (UI Event) Persistent 'StartSetupView' button clicked.
2025-09-29 21:46:36 - [INFO] - [512280345618546699] (UI Event) WorldSettingsModal submitted. is_setup_flow: True
2025-09-29 21:46:37 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-09-29 21:46:37 - [INFO] - [512280345618546699] è™•æ–¼è¨­å®šæµç¨‹ä¸­ï¼Œå³ä½¿è³‡æ–™åº«ç„¡è¨˜éŒ„ï¼Œä¹Ÿå‰µå»ºä¸€å€‹è‡¨æ™‚çš„è¨˜æ†¶é«”å¯¦ä¾‹ã€‚
2025-09-29 21:46:37 - [ERROR] - [512280345618546699] è‡´å‘½éŒ¯èª¤: æœªæ‰¾åˆ°æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt'ï¼
2025-09-29 21:46:37 - [CRITICAL] - [512280345618546699] è‡´å‘½éŒ¯èª¤: æœªæ‰¾åˆ°æ ¸å¿ƒå”è­° '00_supreme_directive.txt'ï¼
2025-09-29 21:46:37 - [INFO] - [512280345618546699] [RAG Mode] æ­£åœ¨å˜—è©¦åˆå§‹åŒ–ã€æ··åˆé›²ç«¯æ¨¡å¼ã€‘...
2025-09-29 21:46:37 - [INFO] - [512280345618546699] æ­£åœ¨å‰µå»º Embedding æ¨¡å‹å¯¦ä¾‹ (API Key index: 0)
2025-09-29 21:46:37 - [WARNING] - [512280345618546699] [RAG Mode] åˆå§‹åŒ–ã€æ··åˆé›²ç«¯æ¨¡å¼ã€‘å¤±æ•—: GoogleGenerativeAIErrorã€‚æ­£åœ¨é™ç´š...
2025-09-29 21:46:37 - [INFO] - [512280345618546699] [RAG Mode] æ­£åœ¨å˜—è©¦åˆå§‹åŒ–ã€æ··åˆæœ¬åœ°æ¨¡å¼ã€‘ï¼ˆå°‡è‡ªå‹•å¾é¡åƒæºä¸‹è¼‰ï¼‰...
2025-09-29 21:49:28 - [ERROR] - [512280345618546699] [RAG Mode] åˆå§‹åŒ–ã€æ··åˆæœ¬åœ°æ¨¡å¼ã€‘æœ€çµ‚å¤±æ•—: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
Traceback (most recent call last):
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 225, in embed_documents
    result = self.client.batch_embed_contents(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 1365, in batch_embed_contents
    response = rpc(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 3554, in _configure_pre_requisites
    await google_embeddings.aembed_query("test")
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\embeddings\embeddings.py", line 79, in aembed_query
    return await run_in_executor(None, self.embed_query, text)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\runnables\config.py", line 590, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\runnables\config.py", line 581, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 254, in embed_query
    return self.embed_documents(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 229, in embed_documents
    raise GoogleGenerativeAIError(f"Error embedding content: {e}") from e
langchain_google_genai._common.GoogleGenerativeAIError: Error embedding content: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 3570, in _configure_pre_requisites
    self.embeddings = HuggingFaceEmbeddings(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_core\_api\deprecation.py", line 215, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_community\embeddings\huggingface.py", line 92, in __init__
    self.client = sentence_transformers.SentenceTransformer(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\SentenceTransformer.py", line 327, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\SentenceTransformer.py", line 2305, in _load_sbert_model
    module = module_class.load(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\models\Transformer.py", line 365, in load
    return cls(model_name_or_path=model_name_or_path, **init_kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\models\Transformer.py", line 88, in __init__
    self._load_model(model_name_or_path, config, cache_dir, backend, is_peft_model, **model_args)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\sentence_transformers\models\Transformer.py", line 196, in _load_model
    self.auto_model = AutoModel.from_pretrained(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\models\auto\auto_factory.py", line 600, in from_pretrained
    return model_class.from_pretrained(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 4839, in from_pretrained
    ) = cls._load_pretrained_model(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 5105, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2025-09-29 21:49:28 - [CRITICAL] - [512280345618546699] [RAG Mode] ğŸ”¥ æ‰€æœ‰ Embedding æ–¹æ¡ˆå‡å¤±æ•—ï¼ç³»çµ±å·²é™ç´šè‡³ã€ç´”é—œéµå­—æ¨¡å¼ã€‘ã€‚
2025-09-29 21:49:28 - [INFO] - [512280345618546699] (Retriever Builder) æ­£åœ¨æ§‹å»º RAG æª¢ç´¢å™¨ (æ¨¡å¼: keyword_only, å¼·åˆ¶é‡å»º: False)...
2025-09-29 21:49:28 - [INFO] - [512280345618546699] (Retriever Builder) âš ï¸ SQL çŸ¥è­˜åº«ç‚ºç©ºï¼ŒBM25 æª¢ç´¢å™¨æœªåˆå§‹åŒ–ã€‚
2025-09-29 21:49:28 - [WARNING] - [512280345618546699] (Retriever Builder) âš ï¸ èªæ„æœç´¢åŠŸèƒ½æœªå•Ÿç”¨ï¼Œè·³éåˆå§‹åŒ– ChromaDB æª¢ç´¢å™¨ã€‚
2025-09-29 21:49:28 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ æ‰€æœ‰æª¢ç´¢å™¨å‡åˆå§‹åŒ–å¤±æ•—ï¼RAG ç³»çµ±å°‡è¿”å›ç©ºçµæœã€‚
2025-09-29 21:49:28 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ (ç•¶å‰ RAG æ¨¡å¼: keyword_only)ã€‚
2025-09-29 21:49:28 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['world_settings']
2025-09-29 21:49:28 - [WARNING] - [512280345618546699] åœ¨æŒä¹…åŒ–æ›´æ–°æ™‚æ‰¾ä¸åˆ°ä½¿ç”¨è€…è³‡æ–™ï¼Œå°‡å‰µå»ºæ–°è¨˜éŒ„ã€‚
2025-09-29 21:49:28 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-29 21:49:37 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
