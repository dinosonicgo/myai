### AI Lover Log - Last updated at 2025-09-29T20:42:23.262062 ###

    final_response = await ai_instance.preprocess_and_generate(input_data)
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 3001, in preprocess_and_generate
    final_prompt_template = self.get_unified_generation_chain()
AttributeError: 'AILover' object has no attribute 'get_unified_generation_chain'. Did you mean: 'get_entity_extraction_chain'?
2025-09-29 20:18:03 - [INFO] - æ‰€æœ‰æŒä¹…åŒ– UI è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-09-29 20:18:03 - [INFO] - æ­£åœ¨å˜—è©¦å°‡æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤ (Slash Commands) å…¨åŸŸåŒæ­¥åˆ° Discord...
2025-09-29 20:18:04 - [INFO] - âœ… æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤å…¨åŸŸåŒæ­¥æˆåŠŸï¼(æ³¨æ„ï¼šå…¨åŸŸæŒ‡ä»¤æ›´æ–°å¯èƒ½éœ€è¦é•·é”ä¸€å°æ™‚æ‰èƒ½åœ¨æ‰€æœ‰ä¼ºæœå™¨ç”Ÿæ•ˆ)
2025-09-29 20:18:04 - [INFO] - Discord Bot is ready!
2025-09-29 20:18:07 - [INFO] - ã€å¥åº·æª¢æŸ¥ & Keep-Aliveã€‘èƒŒæ™¯ä»»å‹™å·²å•Ÿå‹•ã€‚
2025-09-29 20:18:07 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-29 20:18:07 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
2025-09-29 20:32:56 - [INFO] - [512280345618546699] å¾Œå°é‡ç½®ä»»å‹™é–‹å§‹...
2025-09-29 20:32:56 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-09-29 20:32:56 - [INFO] - [512280345618546699] æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:32:56 - [INFO] - [512280345618546699] æ ¸å¿ƒå”è­° '00_supreme_directive.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:32:56 - [INFO] - [512280345618546699] æ­£åœ¨å‰µå»º Embedding æ¨¡å‹å¯¦ä¾‹ (API Key index: 0)
2025-09-29 20:32:56 - [INFO] - [512280345618546699] (Retriever Builder) æ­£åœ¨æ§‹å»ºæ··åˆ RAG æª¢ç´¢å™¨ (å¼·åˆ¶é‡å»º: False)...
2025-09-29 20:32:56 - [INFO] - [512280345618546699] (Retriever Builder) âš ï¸ SQL çŸ¥è­˜åº«ç‚ºç©ºï¼ŒBM25 æª¢ç´¢å™¨æœªåˆå§‹åŒ–ã€‚
2025-09-29 20:32:59 - [INFO] - [512280345618546699] (Retriever Builder) âœ… ChromaDB èªæ„æª¢ç´¢å™¨å·²æˆåŠŸåˆå§‹åŒ–ã€‚
2025-09-29 20:32:59 - [WARNING] - [512280345618546699] (Retriever Builder) âš ï¸ åƒ…æœ‰ä¸€å€‹æª¢ç´¢å™¨å¯ç”¨ï¼Œç³»çµ±å·²é™ç´šç‚ºç´” Chroma æª¢ç´¢ã€‚
2025-09-29 20:32:59 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ã€‚
2025-09-29 20:32:59 - [INFO] - ç‚ºä½¿ç”¨è€… 512280345618546699 æˆåŠŸå‰µå»ºä¸¦åˆå§‹åŒ– AI å¯¦ä¾‹ã€‚
2025-09-29 20:32:59 - [INFO] - [512280345618546699] æ­£åœ¨å¾è³‡æ–™åº«æ¢å¾©çŸ­æœŸå ´æ™¯è¨˜æ†¶...
2025-09-29 20:32:59 - [INFO] - [512280345618546699] æˆåŠŸæ¢å¾©äº† 1 å€‹å ´æ™¯çš„å°è©±æ­·å²ï¼Œç¸½è¨ˆ 1 æ¢è¨Šæ¯ã€‚
2025-09-29 20:32:59 - [INFO] - [512280345618546699] æ­£åœ¨é—œé–‰ AI å¯¦ä¾‹ä¸¦é‡‹æ”¾è³‡æº...
2025-09-29 20:32:59 - [INFO] - [512280345618546699] ChromaDB å¾Œå°æœå‹™å·²è«‹æ±‚åœæ­¢ã€‚
2025-09-29 20:33:00 - [INFO] - [512280345618546699] AI å¯¦ä¾‹è³‡æºå·²é‡‹æ”¾ã€‚
2025-09-29 20:33:01 - [INFO] - [512280345618546699] æ­£åœ¨æ¸…é™¤æ‰€æœ‰çŸ­æœŸå ´æ™¯è¨˜æ†¶...
2025-09-29 20:33:02 - [INFO] - [512280345618546699] å·²æˆåŠŸå¾è³‡æ–™åº«ä¸­åˆªé™¤ 1 æ¢å ´æ™¯æ­·å²è¨˜éŒ„ã€‚
2025-09-29 20:33:04 - [INFO] - [512280345618546699] (UI Event) Persistent 'StartSetupView' button clicked.
2025-09-29 20:33:09 - [INFO] - [512280345618546699] (UI Event) WorldSettingsModal submitted. is_setup_flow: True
2025-09-29 20:33:09 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-09-29 20:33:09 - [INFO] - [512280345618546699] è™•æ–¼è¨­å®šæµç¨‹ä¸­ï¼Œå³ä½¿è³‡æ–™åº«ç„¡è¨˜éŒ„ï¼Œä¹Ÿå‰µå»ºä¸€å€‹è‡¨æ™‚çš„è¨˜æ†¶é«”å¯¦ä¾‹ã€‚
2025-09-29 20:33:09 - [INFO] - [512280345618546699] æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:33:09 - [INFO] - [512280345618546699] æ ¸å¿ƒå”è­° '00_supreme_directive.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:33:09 - [INFO] - [512280345618546699] æ­£åœ¨å‰µå»º Embedding æ¨¡å‹å¯¦ä¾‹ (API Key index: 0)
2025-09-29 20:33:09 - [INFO] - [512280345618546699] (Retriever Builder) æ­£åœ¨æ§‹å»ºæ··åˆ RAG æª¢ç´¢å™¨ (å¼·åˆ¶é‡å»º: False)...
2025-09-29 20:33:09 - [INFO] - [512280345618546699] (Retriever Builder) âš ï¸ SQL çŸ¥è­˜åº«ç‚ºç©ºï¼ŒBM25 æª¢ç´¢å™¨æœªåˆå§‹åŒ–ã€‚
2025-09-29 20:33:09 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ åˆå§‹åŒ– ChromaDB æª¢ç´¢å™¨æ™‚ç™¼ç”Ÿé”™è¯¯: Could not connect to tenant default_tenant. Are you sure it exists?
Traceback (most recent call last):
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 460, in _validate_tenant_database
    self._admin_client.get_tenant(name=tenant)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 517, in get_tenant
    return self._server.get_tenant(name=name)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\rust.py", line 165, in get_tenant
    tenant = self.bindings.get_tenant(name)
AttributeError: 'RustBindingsAPI' object has no attribute 'bindings'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 506, in _load_or_build_rag_retriever
    chroma_client = chromadb.PersistentClient(path=self.vector_store_path)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\__init__.py", line 164, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 87, in __init__
    self._validate_tenant_database(tenant=self.tenant, database=self.database)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 469, in _validate_tenant_database
    raise ValueError(
ValueError: Could not connect to tenant default_tenant. Are you sure it exists?
2025-09-29 20:33:09 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ æ‰€æœ‰æª¢ç´¢å™¨å‡åˆå§‹åŒ–å¤±æ•—ï¼RAG ç³»çµ±å°‡è¿”å›ç©ºçµæœã€‚
2025-09-29 20:33:09 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ã€‚
2025-09-29 20:33:09 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['world_settings']
2025-09-29 20:33:09 - [WARNING] - [512280345618546699] åœ¨æŒä¹…åŒ–æ›´æ–°æ™‚æ‰¾ä¸åˆ°ä½¿ç”¨è€…è³‡æ–™ï¼Œå°‡å‰µå»ºæ–°è¨˜éŒ„ã€‚
2025-09-29 20:33:09 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-29 20:33:13 - [INFO] - [512280345618546699] (UI Event) Persistent 'ContinueToUserSetupView' button clicked.
2025-09-29 20:33:20 - [INFO] - [512280345618546699] (UI Event) CharacterSettingsModal submitted for profile_type: 'user', is_setup_flow: True
2025-09-29 20:33:20 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['user_profile']
2025-09-29 20:33:20 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-29 20:33:22 - [INFO] - [512280345618546699] (UI Event) Persistent 'ContinueToAiSetupView' button clicked.
2025-09-29 20:33:31 - [INFO] - [512280345618546699] (UI Event) CharacterSettingsModal submitted for profile_type: 'ai', is_setup_flow: True
2025-09-29 20:33:31 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['ai_profile']
2025-09-29 20:33:32 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-29 20:35:24 - [INFO] - æ‰€æœ‰æŒä¹…åŒ– UI è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-09-29 20:35:24 - [INFO] - æ­£åœ¨å˜—è©¦å°‡æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤ (Slash Commands) å…¨åŸŸåŒæ­¥åˆ° Discord...
2025-09-29 20:35:24 - [INFO] - âœ… æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤å…¨åŸŸåŒæ­¥æˆåŠŸï¼(æ³¨æ„ï¼šå…¨åŸŸæŒ‡ä»¤æ›´æ–°å¯èƒ½éœ€è¦é•·é”ä¸€å°æ™‚æ‰èƒ½åœ¨æ‰€æœ‰ä¼ºæœå™¨ç”Ÿæ•ˆ)
2025-09-29 20:35:24 - [INFO] - Discord Bot is ready!
2025-09-29 20:35:27 - [INFO] - ã€å¥åº·æª¢æŸ¥ & Keep-Aliveã€‘èƒŒæ™¯ä»»å‹™å·²å•Ÿå‹•ã€‚
2025-09-29 20:35:27 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-29 20:35:28 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
2025-09-29 20:35:32 - [INFO] - [512280345618546699] å¾Œå°é‡ç½®ä»»å‹™é–‹å§‹...
2025-09-29 20:35:32 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-09-29 20:35:32 - [INFO] - [512280345618546699] æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:35:32 - [INFO] - [512280345618546699] æ ¸å¿ƒå”è­° '00_supreme_directive.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:35:32 - [INFO] - [512280345618546699] æ­£åœ¨å‰µå»º Embedding æ¨¡å‹å¯¦ä¾‹ (API Key index: 0)
2025-09-29 20:35:32 - [INFO] - [512280345618546699] (Retriever Builder) æ­£åœ¨æ§‹å»ºæ··åˆ RAG æª¢ç´¢å™¨ (å¼·åˆ¶é‡å»º: False)...
2025-09-29 20:35:32 - [INFO] - [512280345618546699] (Retriever Builder) âš ï¸ SQL çŸ¥è­˜åº«ç‚ºç©ºï¼ŒBM25 æª¢ç´¢å™¨æœªåˆå§‹åŒ–ã€‚
2025-09-29 20:35:33 - [INFO] - [512280345618546699] (Retriever Builder) âœ… ChromaDB èªæ„æª¢ç´¢å™¨å·²æˆåŠŸåˆå§‹åŒ–äºè·¯å¾„: D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\data\vector_stores\512280345618546699\chroma_db
2025-09-29 20:35:33 - [WARNING] - [512280345618546699] (Retriever Builder) âš ï¸ åƒ…æœ‰ä¸€å€‹æª¢ç´¢å™¨å¯ç”¨ï¼Œç³»çµ±å·²é™ç´šç‚ºç´” Chroma æª¢ç´¢ã€‚
2025-09-29 20:35:33 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ã€‚
2025-09-29 20:35:33 - [INFO] - ç‚ºä½¿ç”¨è€… 512280345618546699 æˆåŠŸå‰µå»ºä¸¦åˆå§‹åŒ– AI å¯¦ä¾‹ã€‚
2025-09-29 20:35:33 - [INFO] - [512280345618546699] æ­£åœ¨å¾è³‡æ–™åº«æ¢å¾©çŸ­æœŸå ´æ™¯è¨˜æ†¶...
2025-09-29 20:35:33 - [INFO] - [512280345618546699] è³‡æ–™åº«ä¸­æ²’æœ‰æ‰¾åˆ°æ­·å²å ´æ™¯è¨˜æ†¶ã€‚
2025-09-29 20:35:33 - [INFO] - [512280345618546699] æ­£åœ¨é—œé–‰ AI å¯¦ä¾‹ä¸¦é‡‹æ”¾è³‡æº...
2025-09-29 20:35:33 - [INFO] - [512280345618546699] ChromaDB å¾Œå°æœå‹™å·²è«‹æ±‚åœæ­¢ã€‚
2025-09-29 20:35:34 - [INFO] - [512280345618546699] AI å¯¦ä¾‹è³‡æºå·²é‡‹æ”¾ã€‚
2025-09-29 20:35:36 - [INFO] - [512280345618546699] æ­£åœ¨æ¸…é™¤æ‰€æœ‰çŸ­æœŸå ´æ™¯è¨˜æ†¶...
2025-09-29 20:35:36 - [INFO] - [512280345618546699] å·²æˆåŠŸå¾è³‡æ–™åº«ä¸­åˆªé™¤ 0 æ¢å ´æ™¯æ­·å²è¨˜éŒ„ã€‚
2025-09-29 20:35:38 - [INFO] - [512280345618546699] (UI Event) Persistent 'StartSetupView' button clicked.
2025-09-29 20:35:43 - [INFO] - [512280345618546699] (UI Event) WorldSettingsModal submitted. is_setup_flow: True
2025-09-29 20:35:43 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-09-29 20:35:43 - [INFO] - [512280345618546699] è™•æ–¼è¨­å®šæµç¨‹ä¸­ï¼Œå³ä½¿è³‡æ–™åº«ç„¡è¨˜éŒ„ï¼Œä¹Ÿå‰µå»ºä¸€å€‹è‡¨æ™‚çš„è¨˜æ†¶é«”å¯¦ä¾‹ã€‚
2025-09-29 20:35:43 - [INFO] - [512280345618546699] æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:35:43 - [INFO] - [512280345618546699] æ ¸å¿ƒå”è­° '00_supreme_directive.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:35:43 - [INFO] - [512280345618546699] æ­£åœ¨å‰µå»º Embedding æ¨¡å‹å¯¦ä¾‹ (API Key index: 0)
2025-09-29 20:35:43 - [INFO] - [512280345618546699] (Retriever Builder) æ­£åœ¨æ§‹å»ºæ··åˆ RAG æª¢ç´¢å™¨ (å¼·åˆ¶é‡å»º: False)...
2025-09-29 20:35:43 - [INFO] - [512280345618546699] (Retriever Builder) âš ï¸ SQL çŸ¥è­˜åº«ç‚ºç©ºï¼ŒBM25 æª¢ç´¢å™¨æœªåˆå§‹åŒ–ã€‚
2025-09-29 20:35:43 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ åˆå§‹åŒ– ChromaDB æª¢ç´¢å™¨æ™‚ç™¼ç”Ÿé”™è¯¯: Could not connect to tenant default_tenant. Are you sure it exists?
Traceback (most recent call last):
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 460, in _validate_tenant_database
    self._admin_client.get_tenant(name=tenant)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 517, in get_tenant
    return self._server.get_tenant(name=name)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\rust.py", line 165, in get_tenant
    tenant = self.bindings.get_tenant(name)
AttributeError: 'RustBindingsAPI' object has no attribute 'bindings'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 509, in _load_or_build_rag_retriever
    self.vector_store = Chroma(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_chroma\vectorstores.py", line 370, in __init__
    self._client = chromadb.PersistentClient(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\__init__.py", line 164, in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 87, in __init__
    self._validate_tenant_database(tenant=self.tenant, database=self.database)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\chromadb\api\client.py", line 469, in _validate_tenant_database
    raise ValueError(
ValueError: Could not connect to tenant default_tenant. Are you sure it exists?
2025-09-29 20:35:43 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ æ‰€æœ‰æª¢ç´¢å™¨å‡åˆå§‹åŒ–å¤±æ•—ï¼RAG ç³»çµ±å°‡è¿”å›ç©ºçµæœã€‚
2025-09-29 20:35:43 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ã€‚
2025-09-29 20:35:43 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['world_settings']
2025-09-29 20:35:43 - [WARNING] - [512280345618546699] åœ¨æŒä¹…åŒ–æ›´æ–°æ™‚æ‰¾ä¸åˆ°ä½¿ç”¨è€…è³‡æ–™ï¼Œå°‡å‰µå»ºæ–°è¨˜éŒ„ã€‚
2025-09-29 20:35:43 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-29 20:35:45 - [INFO] - [512280345618546699] (UI Event) Persistent 'ContinueToUserSetupView' button clicked.
2025-09-29 20:35:52 - [INFO] - [512280345618546699] (UI Event) CharacterSettingsModal submitted for profile_type: 'user', is_setup_flow: True
2025-09-29 20:35:53 - [INFO] - [512280345618546699] æ¥æ”¶åˆ° profile æ›´æ–°è«‹æ±‚: ['user_profile']
2025-09-29 20:35:53 - [INFO] - [512280345618546699] Profile æ›´æ–°ä¸¦æŒä¹…åŒ–æˆåŠŸã€‚
2025-09-29 20:39:33 - [INFO] - æ‰€æœ‰æŒä¹…åŒ– UI è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-09-29 20:39:33 - [INFO] - æ­£åœ¨å˜—è©¦å°‡æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤ (Slash Commands) å…¨åŸŸåŒæ­¥åˆ° Discord...
2025-09-29 20:39:33 - [INFO] - âœ… æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤å…¨åŸŸåŒæ­¥æˆåŠŸï¼(æ³¨æ„ï¼šå…¨åŸŸæŒ‡ä»¤æ›´æ–°å¯èƒ½éœ€è¦é•·é”ä¸€å°æ™‚æ‰èƒ½åœ¨æ‰€æœ‰ä¼ºæœå™¨ç”Ÿæ•ˆ)
2025-09-29 20:39:33 - [INFO] - Discord Bot is ready!
2025-09-29 20:39:36 - [INFO] - ã€å¥åº·æª¢æŸ¥ & Keep-Aliveã€‘èƒŒæ™¯ä»»å‹™å·²å•Ÿå‹•ã€‚
2025-09-29 20:39:36 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-29 20:39:37 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
2025-09-29 20:39:40 - [INFO] - [512280345618546699] å¾Œå°é‡ç½®ä»»å‹™é–‹å§‹...
2025-09-29 20:39:40 - [INFO] - ä½¿ç”¨è€… 512280345618546699 æ²’æœ‰æ´»èºçš„ AI å¯¦ä¾‹ï¼Œå˜—è©¦å‰µå»º...
2025-09-29 20:39:40 - [INFO] - [512280345618546699] æ ¸å¿ƒæ•¸æ“šæ¨¡æ¿ 'world_snapshot_template.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:39:40 - [INFO] - [512280345618546699] æ ¸å¿ƒå”è­° '00_supreme_directive.txt' å·²æˆåŠŸåŠ è¼‰ã€‚
2025-09-29 20:39:40 - [INFO] - [512280345618546699] æ­£åœ¨å‰µå»º Embedding æ¨¡å‹å¯¦ä¾‹ (API Key index: 0)
2025-09-29 20:39:40 - [INFO] - [512280345618546699] (Retriever Builder) æ­£åœ¨æ§‹å»ºæ··åˆ RAG æª¢ç´¢å™¨ (å¼·åˆ¶é‡å»º: False)...
2025-09-29 20:39:40 - [INFO] - [512280345618546699] (Retriever Builder) âš ï¸ SQL çŸ¥è­˜åº«ç‚ºç©ºï¼ŒBM25 æª¢ç´¢å™¨æœªåˆå§‹åŒ–ã€‚
2025-09-29 20:39:40 - [WARNING] - [512280345618546699] (Retriever Builder) âš ï¸ æª¢æ¸¬åˆ°ç©ºçš„æˆ–æœªåˆå§‹åŒ–çš„ ChromaDB ç›®éŒ„ã€‚æ­£åœ¨åŸ·è¡Œã€è™›æ“¬åˆå§‹åŒ–ã€‘...
2025-09-29 20:39:41 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ åˆå§‹åŒ– ChromaDB æª¢ç´¢å™¨æ™‚ç™¼ç”Ÿé”™è¯¯: Error embedding content: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]
Traceback (most recent call last):
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 227, in embed_documents
    result = self.client.batch_embed_contents(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 1392, in batch_embed_contents
    response = rpc(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\ai_core.py", line 519, in _load_or_build_rag_retriever
    temp_vector_store = await asyncio.to_thread(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_chroma\vectorstores.py", line 1371, in from_documents
    return cls.from_texts(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_chroma\vectorstores.py", line 1304, in from_texts
    chroma_collection.add_texts(
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_chroma\vectorstores.py", line 606, in add_texts
    embeddings = self._embedding_function.embed_documents(texts)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\site-packages\langchain_google_genai\embeddings.py", line 231, in embed_documents
    raise GoogleGenerativeAIError(f"Error embedding content: {e}") from e
langchain_google_genai._common.GoogleGenerativeAIError: Error embedding content: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0
* Quota exceeded for metric: generativelanguage.googleapis.com/embed_content_free_tier_requests, limit: 0 [violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerUserPerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerMinutePerProjectPerModel-FreeTier"
}
violations {
  quota_metric: "generativelanguage.googleapis.com/embed_content_free_tier_requests"
  quota_id: "EmbedContentRequestsPerDayPerProjectPerModel-FreeTier"
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
]
2025-09-29 20:39:41 - [ERROR] - [512280345618546699] (Retriever Builder) ğŸ”¥ æ‰€æœ‰æª¢ç´¢å™¨å‡åˆå§‹åŒ–å¤±æ•—ï¼RAG ç³»çµ±å°‡è¿”å›ç©ºçµæœã€‚
2025-09-29 20:39:41 - [INFO] - [512280345618546699] æ‰€æœ‰æ§‹å»ºéˆçš„å‰ç½®è³‡æºå·²æº–å‚™å°±ç·’ã€‚
2025-09-29 20:39:41 - [INFO] - ç‚ºä½¿ç”¨è€… 512280345618546699 æˆåŠŸå‰µå»ºä¸¦åˆå§‹åŒ– AI å¯¦ä¾‹ã€‚
2025-09-29 20:39:41 - [INFO] - [512280345618546699] æ­£åœ¨å¾è³‡æ–™åº«æ¢å¾©çŸ­æœŸå ´æ™¯è¨˜æ†¶...
2025-09-29 20:39:41 - [INFO] - [512280345618546699] è³‡æ–™åº«ä¸­æ²’æœ‰æ‰¾åˆ°æ­·å²å ´æ™¯è¨˜æ†¶ã€‚
2025-09-29 20:39:41 - [INFO] - [512280345618546699] æ­£åœ¨é—œé–‰ AI å¯¦ä¾‹ä¸¦é‡‹æ”¾è³‡æº...
2025-09-29 20:39:42 - [INFO] - [512280345618546699] AI å¯¦ä¾‹è³‡æºå·²é‡‹æ”¾ã€‚
2025-09-29 20:39:44 - [INFO] - [512280345618546699] æ­£åœ¨æ¸…é™¤æ‰€æœ‰çŸ­æœŸå ´æ™¯è¨˜æ†¶...
2025-09-29 20:39:44 - [INFO] - [512280345618546699] å·²æˆåŠŸå¾è³‡æ–™åº«ä¸­åˆªé™¤ 0 æ¢å ´æ™¯æ­·å²è¨˜éŒ„ã€‚
2025-09-29 20:39:44 - [ERROR] - [512280345618546699] å¾Œå°é‡ç½®ä»»å‹™å¤±æ•—: [WinError 32] ç¨‹åºç„¡æ³•å­˜å–æª”æ¡ˆï¼Œå› ç‚ºæª”æ¡ˆæ­£ç”±å¦ä¸€å€‹ç¨‹åºä½¿ç”¨ã€‚: 'data\\vector_stores\\512280345618546699\\chroma_db\\chroma.sqlite3'
Traceback (most recent call last):
  File "D:\DINO\SD\ComfyUI\personal_server\ai_lover_service\src\discord_bot.py", line 1733, in start_reset_flow
    await asyncio.to_thread(shutil.rmtree, vector_store_path)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\shutil.py", line 749, in rmtree
    return _rmtree_unsafe(path, onerror)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\shutil.py", line 614, in _rmtree_unsafe
    _rmtree_unsafe(fullname, onerror)
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\shutil.py", line 619, in _rmtree_unsafe
    onerror(os.unlink, fullname, sys.exc_info())
  File "C:\Users\USER\AppData\Local\Programs\Python\Python310\lib\shutil.py", line 617, in _rmtree_unsafe
    os.unlink(fullname)
PermissionError: [WinError 32] ç¨‹åºç„¡æ³•å­˜å–æª”æ¡ˆï¼Œå› ç‚ºæª”æ¡ˆæ­£ç”±å¦ä¸€å€‹ç¨‹åºä½¿ç”¨ã€‚: 'data\\vector_stores\\512280345618546699\\chroma_db\\chroma.sqlite3'
2025-09-29 20:42:09 - [INFO] - æ‰€æœ‰æŒä¹…åŒ– UI è¦–åœ–å·²æˆåŠŸè¨»å†Šã€‚
2025-09-29 20:42:09 - [INFO] - æ­£åœ¨å˜—è©¦å°‡æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤ (Slash Commands) å…¨åŸŸåŒæ­¥åˆ° Discord...
2025-09-29 20:42:09 - [INFO] - âœ… æ‡‰ç”¨ç¨‹å¼æŒ‡ä»¤å…¨åŸŸåŒæ­¥æˆåŠŸï¼(æ³¨æ„ï¼šå…¨åŸŸæŒ‡ä»¤æ›´æ–°å¯èƒ½éœ€è¦é•·é”ä¸€å°æ™‚æ‰èƒ½åœ¨æ‰€æœ‰ä¼ºæœå™¨ç”Ÿæ•ˆ)
2025-09-29 20:42:09 - [INFO] - Discord Bot is ready!
2025-09-29 20:42:12 - [INFO] - ã€å¥åº·æª¢æŸ¥ & Keep-Aliveã€‘èƒŒæ™¯ä»»å‹™å·²å•Ÿå‹•ã€‚
2025-09-29 20:42:12 - [INFO] - Logged in as AI#4450 (ID: 1358417100250808531)
2025-09-29 20:42:13 - [INFO] - å·²æˆåŠŸç™¼é€å•Ÿå‹•æˆåŠŸé€šçŸ¥çµ¦ç®¡ç†å“¡ã€‚
